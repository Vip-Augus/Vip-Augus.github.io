<!DOCTYPE html>

<html class="" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">








<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="RocketMQ," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="Â≠¶‰π†‰∏Ä‰∏ãÁÅ´ÁÆ≠Ê∂àÊÅØÁöÑÂéüÁêÜÂíå‰ΩøÁî®üöÄ">
<meta name="keywords" content="RocketMQ">
<meta property="og:type" content="article">
<meta property="og:title" content="RocketMQ Â≠¶‰π†‰∏éÂàÜ‰∫´">
<meta property="og:url" content="http://yoursite.com/2020/04/12/jms/2020-04-12-RocketMQ-Learn&Share/index.html">
<meta property="og:site_name" content="JingQ">
<meta property="og:description" content="Â≠¶‰π†‰∏Ä‰∏ãÁÅ´ÁÆ≠Ê∂àÊÅØÁöÑÂéüÁêÜÂíå‰ΩøÁî®üöÄ">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/front-picture/CastleDay_ZH-CN8752542375_1920x1080.jpg">
<meta property="og:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Core-Architecture.png">
<meta property="og:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Advantage.png">
<meta property="og:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Message.png">
<meta property="og:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-SendMessage-Default.png">
<meta property="og:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Group.png">
<meta property="og:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Part-Order-Message.png">
<meta property="og:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Producer-heartbeat.png">
<meta property="og:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Namesrv-start.png">
<meta property="og:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Broker-start.png">
<meta property="og:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQTemplate-Producer-Send-Message-Flow.png">
<meta property="og:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQTemplate-Springboot-Listener-Annotation.png">
<meta property="og:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Consumer_Deamon-Run.png">
<meta property="og:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Conusmer-Listener-onMessage.png">
<meta property="og:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Console-Control.png">
<meta property="og:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Console-Topic-ConsumerConfig.png">
<meta property="og:updated_time" content="2021-11-02T15:59:30.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="RocketMQ Â≠¶‰π†‰∏éÂàÜ‰∫´">
<meta name="twitter:description" content="Â≠¶‰π†‰∏Ä‰∏ãÁÅ´ÁÆ≠Ê∂àÊÅØÁöÑÂéüÁêÜÂíå‰ΩøÁî®üöÄ">
<meta name="twitter:image" content="https://gitee.com/vip-augus/blog-picture/raw/master/front-picture/CastleDay_ZH-CN8752542375_1920x1080.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'JingQ'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2020/04/12/jms/2020-04-12-RocketMQ-Learn&Share/"/>





  <title>RocketMQ Â≠¶‰π†‰∏éÂàÜ‰∫´ | JingQ</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">JingQ</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            È¶ñÈ°µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            ÂΩíÊ°£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Ê†áÁ≠æ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-javatech">
          <a href="http://www.justdojava.com/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Java Geek Tech
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/12/jms/2020-04-12-RocketMQ-Learn&Share/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JingQ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://gitee.com/vip-augus/blog-picture/raw/master/panda.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JingQ">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">RocketMQ Â≠¶‰π†‰∏éÂàÜ‰∫´</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">ÂèëË°®‰∫é</span>
              
              <time title="ÂàõÂª∫‰∫é" itemprop="dateCreated datePublished" datetime="2020-04-12T18:12:00+08:00">
                2020-04-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">ÂàÜÁ±ª‰∫é</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/RocketMQ/" itemprop="url" rel="index">
                    <span itemprop="name">RocketMQ</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i> Ê∏∏Ëßà
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>Ê¨°
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="https://gitee.com/vip-augus/blog-picture/raw/master/front-picture/CastleDay_ZH-CN8752542375_1920x1080.jpg" alt=""></p>
<center><strong>Â≠¶‰π†‰∏Ä‰∏ãÁÅ´ÁÆ≠Ê∂àÊÅØÁöÑÂéüÁêÜÂíå‰ΩøÁî®üöÄ</strong></center>

<a id="more"></a>
<p>‰πãÂâç‰ΩøÁî®ÁöÑÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÊòØ <code>ActiveMQ</code>ÔºåÁî±‰∫éÁº∫Â∞ëÁª¥Êä§ÂíåËµÑÊñôÊñáÊ°£ÔºåÂá∫Áé∞ÈóÆÈ¢ò‰∏çÂ•ΩÊéíÊü•Ôºå‰∫éÊòØÂú®Ê≠§Â•ëÊú∫‰∏ãÔºåÁªèËøáË∞ÉÁ†îÈÄâÊã©‰ΩøÁî® <code>RocketMQ</code>Ôºå‰∏ãÈù¢Êù•ÂàÜ‰∫´‰∏Ä‰∏ãÂØπ‰∫éÂÆÉÁöÑÂü∫Á°ÄÂ≠¶‰π†„ÄÇ</p>
<p><code>RocketMQ</code> ‰∏Ä‰∏™Á∫Ø <code>Java</code>„ÄÅÂàÜÂ∏ÉÂºè„ÄÅÈòüÂàóÊ®°ÂûãÁöÑÂºÄÊ∫êÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÔºåÂâçË∫´ÊòØ <code>MetaQ</code>ÔºåÊòØÈòøÈáåÁ†îÂèëÁöÑ‰∏Ä‰∏™ÈòüÂàóÊ®°ÂûãÁöÑÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÔºåÂêéÂºÄÊ∫êÁªô <code>apache</code> Âü∫Èáë‰ºöÊàê‰∏∫‰∫Ü <code>apache</code>ÁöÑÈ°∂Á∫ßÂºÄÊ∫êÈ°πÁõÆÔºåÂÖ∑ÊúâÈ´òÊÄßËÉΩ„ÄÅÈ´òÂèØÈù†„ÄÅÈ´òÂÆûÊó∂„ÄÅÂàÜÂ∏ÉÂºèÁâπÁÇπ„ÄÇ</p>
<p>ÂÄüÈâ¥‰∫é <code>Kafka</code>ÔºåÂØπÊØî‰∏§ËÄÖÔºå<code>RocketMQ</code> ÂÅèÂêë‰∫éÁ®≥ÂÆö‰ª•Âèä‰∏öÂä°ÂûãÊìç‰Ωú„ÄÇ</p>
<h2 id="‰∏Ä„ÄÅÊï¥‰ΩìÊû∂ÊûÑ"><a href="#‰∏Ä„ÄÅÊï¥‰ΩìÊû∂ÊûÑ" class="headerlink" title="‰∏Ä„ÄÅÊï¥‰ΩìÊû∂ÊûÑ"></a>‰∏Ä„ÄÅÊï¥‰ΩìÊû∂ÊûÑ</h2><p>Ê†∏ÂøÉÁªÑ‰ª∂ÊúâÂõõ‰∏™ <strong>Nameserver„ÄÅBroker„ÄÅProducer„ÄÅConsumer</strong></p>
<p><img src="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Core-Architecture.png" alt=""></p>
<p>‰∏äÂõæÂêÑ‰∏™Ê®°ÂùóÈÉΩ‰ºö‰∫íÁõ∏Âª∫Á´ãÈïøÈìæÊé•Êù•ËøõË°åËÅîÁ≥ªÔºåËøôÁßçÊû∂ÊûÑÊ®°ÂºèË∑ü <code>Dubbo</code> ÊúâÁÇπÂÉèÔºåÈÉΩÊúâ‰∏Ä‰∏™Ê≥®ÂÜå‰∏≠ÂøÉÊù•Áª¥Êä§Áõ∏ÂÖ≥‰ø°ÊÅØÔºå‰∏çÂêåÁÇπÂú®‰∫é <code>Broker</code> ËøôÊ®°ÂùóÔºåÂú®Ê∂àÊÅØÁ≥ªÁªü‰∏≠Ëµ∑ÁùÄÈáçË¶ÅÁöÑ‰ΩúÁî®„ÄÇ</p>
<h2 id="‰∫å„ÄÅ‰ºòÁÇπÁâπÊÄß"><a href="#‰∫å„ÄÅ‰ºòÁÇπÁâπÊÄß" class="headerlink" title="‰∫å„ÄÅ‰ºòÁÇπÁâπÊÄß"></a>‰∫å„ÄÅ‰ºòÁÇπÁâπÊÄß</h2><p><img src="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Advantage.png" alt=""></p>
<p><strong>Á®≥ÂÆöÊÄß„ÄÅÈ´òÊÄßËÉΩÂíå‰∏∞ÂØåÁöÑÊ∂àÊÅØÁ±ªÂûã</strong> </p>
<p>ÁΩë‰∏äÂ∑≤ÁªèÊúâÂæàÂ§öÁõ∏ÂÖ≥ÁöÑ‰ºòÁº∫ÁÇπ‰ªãÁªçÔºåËøôÈáåÊé®Ëçê‰∏§ÁØáÔºö</p>
<p><a href="https://juejin.im/entry/5a0abfb5f265da43062a4a91" target="_blank" rel="noopener">ÈòøÈáå RocketMQ ÊÄßËÉΩ‰ªãÁªç</a></p>
<p><a href="http://jm.taobao.org/2016/03/24/rmq-vs-kafka/" target="_blank" rel="noopener">RocketMQ‰∏ékafkaÂØπÊØîÔºà18È°πÂ∑ÆÂºÇÔºâ</a></p>
<h2 id="‰∏â„ÄÅÁÆÄËø∞ÂêÑ‰∏™ÂêçËØçÊ¶ÇÂøµ"><a href="#‰∏â„ÄÅÁÆÄËø∞ÂêÑ‰∏™ÂêçËØçÊ¶ÇÂøµ" class="headerlink" title="‰∏â„ÄÅÁÆÄËø∞ÂêÑ‰∏™ÂêçËØçÊ¶ÇÂøµ"></a>‰∏â„ÄÅÁÆÄËø∞ÂêÑ‰∏™ÂêçËØçÊ¶ÇÂøµ</h2><blockquote>
<p><strong>Topic</strong></p>
</blockquote>
<p><strong>Ê∂àÊÅØ‰∏ªÈ¢ò</strong>ÔºåÊòØ‰∏ÄÁßçÊ∂àÊÅØÁöÑÈÄªËæëÂàÜÁ±ªÔºå‰æãÂ¶ÇËøôÁ±ªÊ∂àÊÅØÂ±û‰∫éÂì™Á±ªÊìç‰Ωú„ÄÇ‰æãÂ¶ÇÂ∫ìÂ≠òÁõ∏ÂÖ≥„ÄÅËÆ¢ÂçïÁõ∏ÂÖ≥„ÄÅÊ¥ªÂä®Áõ∏ÂÖ≥Á≠â„ÄÇÁêÜËß£Êàê‰∏ÄÁßçÊäΩË±°ÁöÑÂàÜÁ±ªËßÑËåÉÔºåÂ§ßÂÆ∂ÁöÑÊìç‰ΩúÊåâÁÖß Topic ËøõË°åÂàÜÁ±ªÔºå‰∏çÂêåÁöÑ Producer Â∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞ÊåáÂÆöÁöÑ TopicÔºå‰∏çÂêåÁöÑ Consumer ËÆ¢ÈòÖÊåáÂÆöÁöÑ TopicÔºå‰ªé‰∏äÈù¢ÊãâÂèñÊ∂àÊÅØÊ∂àË¥πÔºåÂ±èËîΩ‰∫ÜÂ∫ïÂ±ÇÁöÑÊ∂àÊÅØÂ≠òÂÇ®„ÄÇ</p>
<blockquote>
<p><strong>Tag</strong></p>
</blockquote>
<p>ÂØπ Topic Ëøõ‰∏ÄÊ≠•ÁªÜÂåñÔºåÂú®ÈòøÈáå‰∫ëÂÆòÊñπÊñáÊ°£ÊúâËøôË°åÊ≥®Èáä <strong>‚ÄúMessage TagÔºåÂèØÁêÜËß£‰∏∫ Gmail ‰∏≠ÁöÑÊ†áÁ≠æÔºåÂØπÊ∂àÊÅØËøõË°åÂÜçÂΩíÁ±ªÔºåÊñπ‰æø Consumer ÊåáÂÆöËøáÊª§Êù°‰ª∂Âú®Ê∂àÊÅØÈòüÂàó RocketMQ ÁâàÁöÑÊúçÂä°Âô®ËøáÊª§‚Äù</strong></p>
<p>Êõ¥Â§öÂÖ∑‰ΩìÂèØ‰ª•ÁúãËøôÁØáÔºö<a href="https://help.aliyun.com/document_detail/95837.html?spm=a2c4g.11186623.2.11.310f425cg0Epwr#concept-2047146" target="_blank" rel="noopener">Topic ‰∏é Tag ÊúÄ‰Ω≥ÂÆûË∑µ</a></p>
<blockquote>
<p><strong>Message</strong></p>
</blockquote>
<p>ÂÆÉÊòØÊ∂àÊÅØÈòüÂàó‰∏≠ <strong>Ê∂àÊÅØ‰º†ÈÄíÁöÑËΩΩ‰Ωì</strong>„ÄÇ</p>
<p>ÂèëÈÄÅÊ∂àÊÅØÊòØÊåáÂèëÈÄÅÂà∞Êüê‰∏™‰∏ªÈ¢ò Topic ‰∏ãÔºåÂÖ∂‰∏≠ÊØèÊù°Ê∂àÊÅØÂåÖÊã¨‰ª•‰∏ãÂá†ÈÉ®ÂàÜÔºö</p>
<ul>
<li><strong>Message ID</strong></li>
</ul>
<p>Ê∂àÊÅØÁöÑÂÖ®Â±ÄÂîØ‰∏ÄÊ†áËØÜÔºåÁî± <code>RocketMQ</code> ÂèëÈÄÅËøáÁ®ã‰∏≠Ëá™Âä®ÁîüÊàêÔºåÂîØ‰∏ÄÊ†áËØÜÊüêÊù°‰ø°ÊÅØ</p>
<ul>
<li><strong>Message key</strong></li>
</ul>
<p>Ê∂àÊÅØÁöÑ‰∏öÂä°Ê†áËØÜÔºåÁî±Ê∂àÊÅØÁîü‰∫ßËÄÖ <code>Producre</code> ËÆæÁΩÆÔºåÂîØ‰∏ÄÊ†áËØÜÊüê‰∏™‰∏öÂä°ÈÄªËæë„ÄÇ</p>
<ul>
<li><strong>Message Body</strong></li>
</ul>
<p>Ê∂àÊÅØÊê∫Â∏¶ÁöÑÂÜÖÂÆπ‰ΩìÔºå‰∏ÄËà¨Âú®ËøôÈáåËá™ÂÆö‰πâ‰º†ÈÄíÁöÑÂÜÖÂÆπÔºåËÆ∞ÂæóË¶ÅÂ∞ÜÊ∂àÊÅØÂÜÖÂÆπÂ∫èÂàóÂåñ„ÄÇ</p>
<p>ÂÖ∑‰ΩìÊ∂àÊÅØ Message Ê†∏ÂøÉÁªìÊûÑÂèØ‰ª•ÂèÇËÄÉÊéßÂà∂Âè∞ÈáåÂ±ïÁ§∫ÁöÑ <code>Message Detail</code></p>
<p><img src="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Message.png" alt=""></p>
<blockquote>
<p><strong>MessageQueue</strong></p>
</blockquote>
<p>ÂâçÈù¢ÊèêÂà∞ÁöÑ <code>Topic</code> ÊòØÊäΩË±°Ê¶ÇÂøµÔºåÂÆûÈôÖÂèëÈÄÅÊ∂àÊÅØÂíåÊ∂àË¥πÊ∂àÊÅØÁöÑÂú∞ÊñπÊòØ <code>Message Queue</code>ÔºåÊØè‰∏™ <code>Topic</code> ‰∏ãÂèØËÉΩÊúâÂ§ö‰∏™Ê∂àÊÅØÈòüÂàó„ÄÇÂºïÂÖ•ÈòüÂàóÁöÑÂéüÂõ†ÊòØ‰∏∫‰∫ÜÊèêÈ´òÂèØÁî®ÊÄßÂíåÁÅµÊ¥ªÊÄßÔºåÊåâÁÖßÈòüÂàóÁöÑÊÄßË¥® <code>FIFO</code>ÔºåÂÖàÂèëÈÄÅÁöÑÊ∂àÊÅØÂÖàÊ∂àË¥π„ÄÇ</p>
<p>‰æãÂ¶ÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå‰∏Ä‰∏™ <code>Topic</code> ‰ºöÂàÜÈÖçÂõõ‰∏™ <code>Message Queue</code>ÔºàÂèÇÊï∞ÈÖçÁΩÆÔºödefaultTopicQueueNumsÔºâÔºåÂ¶ÇÊûúÊúâ‰∏§‰∏™ <code>Broker</code>ÔºåÈÇ£Â∞Ü‰ºöÂπ≥ÂàÜ‰∏§‰∏™ÔºåÂ¶ÇÊûúÊòØÊú¨Âú∞Êê≠Âª∫‰∏Ä‰∏™ <code>Broker</code>ÔºåÈÇ£‰πàÂ∫îËØ•Ë∑üÊàë‰∏ÄÊ†∑ÁúãÂà∞ÁöÑÊòØÔºö<strong>‰∏Ä‰∏™ Broker ‰∏ãÊúâÂõõ‰∏™ Message Queue</strong></p>
<p>Ê∂àÊÅØÂèëÈÄÅÁöÑÁõÆÁöÑÂú∞ÂíåÊ∂àË¥πÁöÑËé∑ÂèñÊ∫êÂ∞±ÊòØ <code>Message Queue</code></p>
<p><img src="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-SendMessage-Default.png" alt=""></p>
<blockquote>
<p><strong>Group</strong></p>
</blockquote>
<p>ÂàÜÁªÑ‰ø°ÊÅØÔºå‰∏Ä‰∏™ÁªÑÂèØ‰ª•ËÆ¢ÈòÖÂ§ö‰∏™ <code>Topic</code>„ÄÇ</p>
<p>ÂÖ∑‰ΩìÂèØ‰ª•ÂàÜ‰∏∫ <code>Producer Group</code> Âíå <code>Consumer Group</code>Ôºå‰∏Ä‰∏™Â∫îÁî®ÈáåÈÉΩÂèØ‰ª•Âª∫Á´ãÂ§ö‰∏™ÂèëÈÄÅËÄÖÁªÑÂíåÊ∂àË¥πËÄÖÁªÑÔºå‰∏çËøáÊé®ËçêÁöÑÁî®Ê≥ïÊòØ‰∏Ä‰∏™Â∫îÁî®ÊåáÂÆö‰∏Ä‰∏™ <code>Producer Group</code>ÔºåÁªü‰∏ÄÊ∂àÊÅØÂèëÈÄÅËÄÖÁöÑ‰ø°ÊÅØ„ÄÇ</p>
<p>‰∏ÄËà¨‰∏Ä‰∏™Â∫îÁî®Âè™ÈúÄËÆæÂÆö‰∏Ä‰∏™Ê∂àË¥πËÄÖÁªÑÔºåÂçïÁã¨ËÆ¢ÈòÖ‰∏ªÈ¢òËøõË°åÊ∂àË¥π„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™ <code>Topic</code> Âú®‰∏Ä‰∏™Â∫îÁî®‰∏≠ÊÉ≥ËÆæÂÆö‰∏§‰∏™Â§ÑÁêÜÈÄªËæëÔºå<strong>ÈÇ£‰πàÂèØ‰ª•ÈÖçÁΩÆ‰∏çÂêåÁöÑÊ∂àË¥πËÄÖÂàÜÁªÑÔºåÂèØ‰ª•ÂÆûÁé∞ÂØπÂêå‰∏Ä‰∏™‰∏ªÈ¢òÊ∂àÊÅØËÆæÂÆö‰∏çÂêåÁöÑÂ§ÑÁêÜËÄÖ <code>Handler</code></strong>„ÄÇ</p>
<p><img src="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Group.png" alt=""></p>
<blockquote>
<p><strong>Offset</strong></p>
</blockquote>
<p>‰ΩçÁßªÈáèÔºåÁî®Êù•‰øùÂ≠òÊ∂àÊÅØÊ∂àË¥πÁöÑËøõÂ∫¶„ÄÇ</p>
<p>‰ªé‰∏äÈù¢‰∫ÜËß£Âà∞Ôºå‰∏Ä‰∏™ <code>Broker</code> ‰∏ã‰ºöÊúâÂ§ö‰∏™ <code>Message Queue</code>ÔºåÊàë‰ª¨ÈúÄË¶ÅÁî®‰∏Ä‰∏™‰∏ãÊ†áÊù•ËÆ∞ÂΩïÊ∂àÊÅØÊ∂àË¥πÁöÑ‰ΩçÁΩÆ„ÄÇÈÄöËøá <code>Offset</code> ÂèØ‰ª•ÂÆö‰ΩçÂà∞ÁõÆÂâçÊ∂àË¥πÂÆåÊàêÁöÑÊ∂àÊÅØ‰ΩçÁΩÆÔºåÊåáÁ§∫ <code>Consumer</code> ‰∏ã‰∏ÄÊù°Ë¶Å‰ªé <code>Offest</code> ÂêéÈù¢‰ΩçÁΩÆÊ∂àË¥πÊ∂àÊÅØ„ÄÇ</p>
<p>Âú®‰ª£Á†Å‰∏≠Ôºå<code>Offset</code> ÊòØ <code>long</code> Âü∫Á°ÄÁ±ªÂûãÔºåÊ†πÊçÆÂÆÉÊù•ËÆøÈóÆ <code>Message Queue</code> ÊåáÂÆö‰ΩçÁΩÆÁöÑÊ∂àÊÅØ„ÄÇ</p>
<blockquote>
<p><strong>Order Ê∂àÊÅØÊúâÂ∫èÊÄß</strong></p>
</blockquote>
<p>‰∏ÄÁßçÊåâÁÖßÈ°∫Â∫èËøõË°åÂèëÂ∏ÉÂíåÊ∂àË¥πÁöÑÊ∂àÊÅØÁ±ªÂûãÔºåÂàÜ‰∏∫ <strong>ÂÖ®Â±ÄÈ°∫Â∫èÊ∂àÊÅØÂíåÂàÜÂå∫È°∫Â∫èÊ∂àÊÅØ</strong>„ÄÇ</p>
<p><strong>ÂÖ®Â±ÄÈ°∫Â∫è</strong>ÔºöËøô‰∏™ÊØîËæÉÂ•ΩÁêÜËß£ÔºåÂØπ‰∫éÂêå‰∏Ä‰∏™ <code>Topic</code> ÁöÑÊ∂àÊÅØÔºåÊó†ËÆ∫Ê∂àË¥πËÄÖÊúâÂ§öÂ∞ë‰∏™ÔºåÊ∂àÊÅØÂá∫ÈòüÂè™ËÉΩ‰∏Ä‰∏™‰∏Ä‰∏™ÊåâÁÖßÈ°∫Â∫èÊù•Ôºå‰∏ã‰∏Ä‰∏™ <code>Message</code> ÁöÑÊ∂àË¥π‰æùËµñ‰∫éÂâç‰∏Ä‰∏™Ê∂àË¥πÂÆåÊàê„ÄÇÈÄÇÁî®‰∫éÊÄßËÉΩË¶ÅÊ±Ç‰∏çÈ´òÁöÑÂú∫ÊôØÔºå‰∏çËøáÂü∫Êú¨Êå∫Â∞ëÈÄâÊã©ËØ•Ê®°Âºè„ÄÇ</p>
<p><strong>ÂàÜÂå∫È°∫Â∫è</strong>ÔºöÈÄöËøáÊüê‰∏™ <code>Sharding Key</code> Êù•ËøõË°åÂå∫ÂùóÂàÜÂå∫„ÄÇÂêå‰∏Ä‰∏™ÂàÜÂå∫ÂÜÖÁöÑÊ∂àÊÅØÊåâÁÖß‰∏•Ê†ºÁöÑ <code>FIFO</code> È°∫Â∫èËøõË°åÂèëÂ∏ÉÂíåÊ∂àË¥π„ÄÇ</p>
<p>ËøôÈáåÊòØÊñáÊ°£‰∏≠‰∏æÁöÑ‰æãÂ≠êÔºö</p>
<p><strong>ÁîµÂïÜÁöÑËÆ¢ÂçïÂàõÂª∫Ôºå‰ª•ËÆ¢Âçï ID ‰Ωú‰∏∫ Sharding KeyÔºåÈÇ£‰πàÂêå‰∏Ä‰∏™ËÆ¢ÂçïÁõ∏ÂÖ≥ÁöÑÂàõÂª∫ËÆ¢ÂçïÊ∂àÊÅØ„ÄÅËÆ¢ÂçïÊîØ‰ªòÊ∂àÊÅØ„ÄÅËÆ¢ÂçïÈÄÄÊ¨æÊ∂àÊÅØ„ÄÅËÆ¢ÂçïÁâ©ÊµÅÊ∂àÊÅØÈÉΩ‰ºöÊåâÁÖßÂèëÂ∏ÉÁöÑÂÖàÂêéÈ°∫Â∫èÊù•Ê∂àË¥π„ÄÇ</strong></p>
<p>ÂèØ‰ª•ÈÄöËøá <code>Sharding Key</code> Êù•‰øùËØÅÂêå‰∏ÄÁ±ªÂûã„ÄÅÁî®Êà∑ÁöÑÊ∂àÊÅØÈ°∫Â∫èÂèëÈÄÅÂíåÊ∂àË¥πÔºåÊó¢‰øùËØÅ‰∫ÜÈ´òÂπ∂ÂèëÂ§ÑÁêÜÊ∂àÊÅØÔºå‰πü‰øùÈöú‰∫Ü‰∏öÂä°‰∏äÁöÑËøûË¥ØÊÄß„ÄÇ</p>
<p><img src="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Part-Order-Message.png" alt=""></p>
<p>‰∏äÂõæÂ±ïÁ§∫ÁöÑÊòØ <strong>ÂàÜÂå∫È°∫Â∫è</strong>Ôºå‰ªé‰ª£Á†ÅÂÆûÁé∞Êù•ËØ¥ÔºåÈúÄË¶ÅËÆæÂÆöËá™ÂÆö‰πâ <code>Selector</code>ÔºåÁÑ∂ÂêéÂØπÂÖ•ÂèÇ <code>arg</code> ËøõË°åËß£ÊûêÂíåÊ†πÊçÆÁ≠ñÁï•ÈÄâÊã© <code>mq</code>Ôºå‰æãÂ¶ÇÂ∏∏ËßÅÁöÑÂìàÂ∏åÂèñÊ®°ÔºåÈÄâÊã©Á≠ñÁï•ÂèØ‰ª•ÂèÇËÄÉËøô‰∏™Á±ª Ôºö<code>SelectMessageQueueByHash</code></p>
<blockquote>
<p><strong>Ê∂àÊÅØÊ∂àË¥πÊ®°Âºè</strong></p>
</blockquote>
<p>Âú® <code>RocketMQ</code> ‰∏≠ÔºåÂÆûÁé∞ÁöÑÊ∂àË¥πÊ®°ÂºèÊúâ‰∏§Áßç</p>
<ul>
<li><strong>ÊãâÔºàPULLÔºâÊ®°ÂºèÔºö</strong> <code>Consumer</code> ‰∏ªÂä®‰ªéÊ∂àÊÅØÊúçÂä°Âô® <code>Broker</code> Ëé∑ÂèñÊ∂àÊÅØ„ÄÇ</li>
<li><strong>Êé®ÔºàPUSHÔºâÊ®°ÂºèÔºö</strong> Ê∂àÊÅØÊúçÂä°Âô® <code>Broker</code> ‰∏ªÂä®Êé®ÈÄÅÊ∂àÊÅØÂà∞ <code>Consumer</code>„ÄÇ</li>
</ul>
<p>ÂºïÁî®„ÄêËó§ÂéüË±ÜËÖêÂ∫ó-„ÄëÁöÑÊèèËø∞Ôºö</p>
<ul>
<li><p><strong>MQPullConsumerÔºö</strong> ÂèñÊ∂àÊÅØÁöÑËøáÁ®ãÈúÄË¶ÅÁî®Êà∑Ëá™Â∑±ÂÜôÔºåÈ¶ñÂÖàÈÄöËøáÊâìÁÆóÊ∂àË¥πÁöÑ<code>Topic</code> ÊãøÂà∞ <code>MessageQueue</code> ÁöÑÈõÜÂêàÔºåÈÅçÂéÜ <code>MessageQueue</code> ÈõÜÂêàÔºåÁÑ∂ÂêéÈíàÂØπÊØè‰∏™ <code>MessageQueue</code> ÊâπÈáèÂèñÊ∂àÊÅØÔºå‰∏ÄÊ¨°ÂèñÂÆåÂêéÔºåËÆ∞ÂΩïËØ•ÈòüÂàó‰∏ã‰∏ÄÊ¨°Ë¶ÅÂèñÁöÑÂºÄÂßã<code>offset</code>ÔºåÁõ¥Âà∞ÂèñÂÆå‰∫ÜÔºåÂÜçÊç¢Âè¶‰∏Ä‰∏™ <code>MessageQueue</code>„ÄÇ</p>
</li>
<li><p><strong>MQPushConsumerÔºö</strong> <code>consumer</code> ÊääËΩÆËØ¢ËøáÁ®ãÂ∞ÅË£Ö‰∫ÜÔºåÂπ∂Ê≥®ÂÜå <code>MessageListener</code> ÁõëÂê¨Âô®ÔºåÂèñÂà∞Ê∂àÊÅØÂêéÔºåÂî§ÈÜí <code>MessageListener</code> ÁöÑ <code>consumeMessage()</code> Êù•Ê∂àË¥πÔºåÂØπÁî®Êà∑ËÄåË®ÄÔºåÊÑüËßâÊ∂àÊÅØÊòØË¢´Êé®ÈÄÅÔºà<code>push</code>ÔºâËøáÊù•ÁöÑ„ÄÇ</p>
</li>
</ul>
<p>Êü•Áúã <code>SpringBoot</code> ÈáåÈù¢ÁöÑ <code>@RocketMQMessageListener</code> Ê≥®Ëß£ÂÆûÁé∞ÊñπÂºèÂíåÂõ¢Èòü‰ΩøÁî®‰∫åÊ¨°Â∞ÅË£ÖÁöÑ <code>RocketMQ</code>ÔºåÂèëÁé∞‰ΩøÁî®ÁöÑÈÉΩÊòØ <code>MQPushConsumer</code>ÔºåÂ∞ÅË£ÖÂ•Ω‰∫Ü <code>pull</code> ËΩÆËØ¢ËøáÁ®ãÔºåÊâÄ‰ª•ÂèØ‰ª•ËÆ§‰∏∫Ôºå<code>RocketMQ</code> ‰ΩøÁî®ÁöÑÊòØ <code>Pull</code> ÊãâÂèñÊ®°ÂºèÁöÑÊ∂àË¥πÊ®°Âºè„ÄÇ</p>
<blockquote>
<p><strong>Ê∂àÊÅØÈáçÂ§ç</strong></p>
</blockquote>
<p>Ê∂àÊÅØÁöÑËØ≠‰πâÊúâ‰∏âÁßçÔºö</p>
<ul>
<li>ÊúÄÂ§ö‰∏ÄÊ¨°ÔºàAt most onceÔºâ</li>
<li>ÊúÄÂ∞ë‰∏ÄÊ¨°ÔºàAt least onceÔºâ</li>
<li>Á≤æÁ°Æ‰∏ÄÊ¨°ÔºàExactly onceÔºâ</li>
</ul>
<p>Áî±‰∫éÁΩëÁªúÊ≥¢Âä®ÂéüÂõ†ÔºåÊó†Ê≥ïÈÅøÂÖçÊ∂àÊÅØÂú®ÁΩëÁªú‰º†ËæìÊó∂ÔºåÂèëÈÄÅÁ´ØËÆ§‰∏∫Á¨¨‰∏ÄÊ¨°ÂèëÈÄÅÂ§±Ë¥•ÂêéÔºåËøõË°åÂèëÈÄÅÈáçËØïÔºå‰∫éÊòØ‰πéÊàë‰ª¨Ë¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢òÂèØ‰ª•ÁêÜËß£ÊàêÔºö<strong>‰∏§Êù°‰∏ÄÊ†∑ÁöÑÊ∂àÊÅØÔºåÂ¶Ç‰Ωï‰øùËØÅÁ®ãÂ∫èÂ§ÑÁêÜÊ≠£Á°ÆÔºü</strong></p>
<p>ÁõÆÂâçÂ∏∏ËßÅÁöÑÂÅöÊ≥ïÊúâ‰∏§ÁßçÔºö</p>
<p>1„ÄÅ‰øùËØÅÊ∂àÊÅØÁöÑ <strong>ÂπÇÁ≠âÊÄß</strong></p>
<p>2„ÄÅ<strong>Ê∂àÊÅØÁ≥ªÁªü</strong> ËøáÊª§ÈáçÂ§çÁöÑÊ∂àÊÅØÔºåÊàñËÄÖ <strong>Ê∂àË¥πÁ´Ø</strong> ËøáÊª§ÈáçÂ§çÁöÑÊ∂àÊÅØ</p>
<p><strong>ÂπÇÁ≠âÊÄßÔºö</strong> Âà©Áî®Êï∞Â≠¶‰∏äÁöÑÊ¶ÇÂøµÂä†Ê∑±ÁêÜËß£Ôºå‰æãÂ¶ÇÊúâ‰∏™ÂáΩÊï∞ <code>f(x)</code>Ôºåx ÊòØÊ∂àÊÅØÔºåÈÇ£‰πàÊó†ËÆ∫ÂØπÊ∂àÊÅØÈáçÂ§çÊ∂àË¥πÂ§öÂ∞ëÊ¨°Ôºå<code>f(f(x))</code> ÁöÑÁªìÊûúÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ‰∏ç‰ºöÂõ†‰∏∫ÈáçÂ§çÊ∂àË¥πËÄå‰∫ßÁîüÂâØ‰ΩúÁî®Ôºå‰øùËØÅÊï∞ÊçÆÁöÑÊ≠£Á°ÆÊÄß„ÄÇ</p>
<p><strong>Ê∂àÊÅØÂéªÈáçÔºö</strong> Ëøô‰∏™ÊØîËæÉÂ•ΩÁêÜËß£ÔºåÊØèÊù°Ê∂àÊÅØÂ∏¶ÊúâÂÖ®Â±ÄÂîØ‰∏ÄÁöÑ <code>Message ID</code>ÔºåÂèØ‰ª•Âú®Ê∂àÊÅØÁ≥ªÁªü <code>Broker</code> Â§ÑËøõË°åËøáÊª§Ôºå‰πüÂèØ‰ª•Âú®Ê∂àË¥πËÄÖ <code>Consumer</code> Â§ÑËøõË°åËøáÊª§„ÄÇ</p>
<p>ÁõÆÂâçÂú®‰ªãÁªç‰∏≠ÔºåÊ≤°ÁúãÂà∞ <code>RocketMQ</code> Âú® <code>Broker</code> Â§ÑËøõË°åËøáÊª§ÂéªÈáçÔºåÊâÄ‰ª•ÈúÄË¶ÅÂú®Ê∂àË¥πËÄÖÁ´ØËøõË°åËøáÊª§„ÄÇÂèØ‰ª•ËÄÉËôëÊñ∞Â¢û‰∏ÄÂº†Êï∞ÊçÆÂ∫ìË°®ÔºåËÆ∞ÂΩïÂ§ÑÁêÜËøáÁöÑ <code>Message ID</code>ÔºåÂ¶ÇÊûúÈÅáÂà∞ÈáçÂ§çÁöÑÊ∂àÊÅØÂ∞±‰∏çÂÜçËøõË°åÂ§ÑÁêÜÔºåÂú®Â§ÑÁêÜ‰∏≠ÁöÑÊ∂àÊÅØÂèØ‰ª•ÂÖàÊîæÂÖ• <code>Redis</code>ÔºåÈÅøÂÖçÂêåÊó∂Ê∂àË¥π‰∏ÄÊ†∑ÁöÑÊ∂àÊÅØ~</p>
<h2 id="Âõõ„ÄÅËØ¶ËØ¥Ê†∏ÂøÉÊ®°Âùó"><a href="#Âõõ„ÄÅËØ¶ËØ¥Ê†∏ÂøÉÊ®°Âùó" class="headerlink" title="Âõõ„ÄÅËØ¶ËØ¥Ê†∏ÂøÉÊ®°Âùó"></a>Âõõ„ÄÅËØ¶ËØ¥Ê†∏ÂøÉÊ®°Âùó</h2><p>‰ªéÂâçÈù¢ÁöÑÊû∂ÊûÑÂõæ‰∏≠ÂèØ‰ª•ÁúãÂà∞ÊúâÂõõÂ§ßÊ†∏ÂøÉÊ®°ÂùóÔºå‰ªéÁîü‰∫ßËÄÖÂèëÈÄÅÊ∂àÊÅØÂà∞Ê∂àË¥πËÄÖÊ∂àË¥πÁªèÂéÜËøá‰ª•‰∏ãÁöÑÊµÅÁ®ãÔºö</p>
<p><img src="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Producer-heartbeat.png" alt=""></p>
<p>ÂÖà‰ª• <code>Producer</code> ËßíÂ∫¶Êù•ËØ¥Ôºå‰∏éÂÖ∂‰∏≠‰∏Ä‰∏™ <code>ns</code> Âª∫Á´ãÈïøÈìæÊé•ÔºåÁÑ∂ÂêéÂÆöÊúüÂèëÈÄÅÂøÉË∑≥Áª¥ÊåÅÁä∂ÊÄÅÔºåËé∑Âèñ <code>Topic</code> ‰∏ªÈ¢òË∑ØÁî±‰ø°ÊÅØÔºåÁÑ∂Âêé‰∏é <code>Broker Master</code> Âª∫Á´ãÈïøÈìæÊé•ÔºåÂÆöÊúüÂèëÈÄÅÂøÉË∑≥Âà§Êñ≠ÊòØÂê¶ÂèØÁî®„ÄÇÊ†πÊçÆÂèëÈÄÅÊ∂àÊÅØÁöÑÁ±ªÂûãÔºåÂà§Êñ≠ÊòØÂê¶ÈúÄË¶Å <code>Broker</code> ÁöÑËøîÂõûÂÄº„ÄÇ</p>
<p>‰ªé <code>Consumer</code> ËßíÂ∫¶Êù•ËØ¥Ôºå‰∏é <code>Producer</code> ‰∏çÂêåÁÇπÂú®‰∫éÔºåÂÆÉÂèØ‰ª•‰ªé <code>Broker Master</code> ËÆ¢ÈòÖÊ∂àÊÅØÔºå‰πüËÉΩÂ§ü‰ªé <code>Broker Salve</code> ËÆ¢ÈòÖÊ∂àÊÅØÔºåËøôÈáå‰∏çÂÜçÈáçÂ§çÁîªÂõæ„ÄÇ </p>
<p>Áî±‰∫é <code>RocketMQ</code> ÊòØÁ∫Ø <code>Java</code> ËØ≠Ë®ÄÁºñÂÜôÁöÑÔºåÊâÄ‰ª•ÂèØ‰ª•Âú® <code>Github</code> ‰∏≠‰∏ãËΩΩÊ∫êÁ†ÅÔºåÊü•ÁúãÊØè‰∏™Ê®°ÂùóÁöÑËØ¶ÁªÜËÆæËÆ°„ÄÇ</p>
<h3 id="Nameserver"><a href="#Nameserver" class="headerlink" title="Nameserver"></a><strong>Nameserver</strong></h3><p><code>Nameserver</code> Êù•ÁÆ°ÁêÜÊ∂àÊÅØËÆ¢ÈòÖÔºåÊ∂àÊÅØÂèëÈÄÅÂíåÊ∂àË¥π‰ø°ÊÅØÔºåÈõÜÁæ§‰∏≠ÁöÑÂêÑ‰∏™ÊúçÂä°ÈúÄË¶ÅÈÄöËøá <code>Nameserver</code> Êù•‰∫ÜËß£ÂêÑËá™ÁöÑÁä∂ÊÄÅ„ÄÇ</p>
<p>ÊúâÁÇπÂÉè <code>Dubbo</code> ‰∏≠ÁöÑÊ≥®ÂÜå‰∏≠ÂøÉ <code>Zookeeper</code>Ôºå<code>NameServer</code> ‰∏≠Áª¥Êä§ÁùÄ <code>Producer</code> ÈõÜÁæ§„ÄÅ<code>Broker</code> ÈõÜÁæ§„ÄÅ <code>Consumer</code> ÈõÜÁæ§ÁöÑÊúçÂä°Áä∂ÊÄÅ„ÄÇÈÄöËøáÂÆöÊó∂ÔºàÈªòËÆ§ÊòØ 30sÔºâÂèëÈÄÅÂøÉË∑≥Êï∞ÊçÆÂåÖËøõË°åÁª¥Êä§Êõ¥Êñ∞ÂêÑ‰∏™ÊúçÂä°ÁöÑÁä∂ÊÄÅ„ÄÇ</p>
<p>‚ë†„ÄÅÊé•Êî∂ <code>Broker</code> ÁöÑËØ∑Ê±ÇÔºåÊ≥®ÂÜå <code>Broker</code> ÁöÑË∑ØÁî±‰ø°ÊÅØ</p>
<p>‚ë°„ÄÅÊé•Âè£ <code>Client</code> ÁöÑËØ∑Ê±ÇÔºåÊ†πÊçÆÊüê‰∏™ <code>Topic</code> Ëé∑ÂèñÂÖ∂Âà∞ <code>Broker</code> ÁöÑË∑ØÁî±‰ø°ÊÅØ</p>
<p><code>NameServer</code> Ê≤°ÊúâÁä∂ÊÄÅÔºåÂèØ‰ª•Ê®™ÂêëÊâ©Â±ï„ÄÇÊØè‰∏™ <code>Broker</code> Âú®ÂêØÂä®ÁöÑÊó∂ÂÄô‰ºöÂà∞<code>NameServer</code> Ê≥®ÂÜåÔºõ<code>Producer</code> Âú®ÂèëÈÄÅÊ∂àÊÅØÂâç‰ºöÊ†πÊçÆ <code>Topic</code> Âà∞ <code>NameServer</code> Ëé∑ÂèñË∑ØÁî±(Âà∞ <code>Broker</code>)‰ø°ÊÅØÔºõ<code>Consumer</code> ‰πü‰ºöÂÆöÊó∂Ëé∑Âèñ <code>Topic</code> Ë∑ØÁî±‰ø°ÊÅØ„ÄÇ</p>
<p>ÂÖ≥‰∫é <code>Namesrv</code>Ôºå‰∫ÜËß£‰∏äËø∞Ê¶ÇÂøµÂêéÔºåÂèØ‰ª•Âú®‰ª£Á†Å‰∏≠Êü•ÁúãÂÖ∑‰ΩìÁöÑÂêØÂä®ÊµÅÁ®ãÔºö</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">org.apache.rocketmq.namesrv.NamesrvStartup#main</div></pre></td></tr></table></figure>
<p><img src="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Namesrv-start.png" alt=""></p>
<h3 id="Broker"><a href="#Broker" class="headerlink" title="Broker"></a><strong>Broker</strong></h3><p><code>Broker</code> ÁöÑÂÆö‰ΩçÊòØÊ∂àÊÅØ‰ª£ÁêÜÂ≠òÂÇ®ÊúçÂä°Âô®ÔºåËÅåË¥£ÊòØË¥üË¥£ÊåÅ‰πÖÂåñÊ∂àÊÅØËøòÊúâÁÆ°ÁêÜÊ∂àÊÅØÊ∂àË¥πÁöÑËøõÂ∫¶„ÄÇ</p>
<p>‰ªãÁªç‰∏Ä‰∏ãÂÆÉÁöÑÁâπÊÄßÔºö</p>
<p>‚ë† ‰∏éÊâÄÊúâ <code>Namesrv</code> ËäÇÁÇπ‰øùÊåÅÈïøÈìæÊé•ÂíåÂøÉË∑≥ÔºåÂÆöÊó∂ÔºàÈªòËÆ§ 30sÔºâÂ∞Ü <code>Topic</code> ‰ø°ÊÅØÊ≥®ÂÜåÂà∞ <code>Namesrv</code>„ÄÇ</p>
<p>‚ë° Ë¥üË¥£Â≠òÂÇ®Ê∂àÊÅØÔºå‰ª• <code>Topic</code> ‰∏∫Áª¥Â∫¶ÊîØÊåÅËΩªÈáèÁ∫ßÁöÑÈòüÂàóÔºåÂçïÊú∫ÂèØ‰ª•ÊîØÊíë‰∏ä‰∏áÈòüÂàóËßÑÊ®°ÔºåÊîØÊåÅÊ∂àÊÅØÊé®ÊãâÊ®°Âûã„ÄÇ</p>
<p>‚ë¢ ÂÖ∑Êúâ‰∏ä‰∫øÁ∫ßÊ∂àÊÅØÂ†ÜÁßØËÉΩÂäõÔºåÂêåÊó∂ÂèØ‰ª•‰∏•Ê†º‰øùËØÅÊ∂àÊÅØÁöÑÊúâÂ∫èÊÄß„ÄÇ</p>
<p>ÂÖ∑‰ΩìÂêØÂä®‰ª£Á†ÅÂÖ•Âè£Âú®Ôºö</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">org.apache.rocketmq.broker.BrokerStartup#main</div></pre></td></tr></table></figure>
<p><img src="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Broker-start.png" alt=""></p>
<p>ÂàùÂßãÂåñËøáÁ®ã‰∏≠ÂÅöÁöÑ‰∫ãÊÉÖÊúâÁÇπÂ§öÔºåÊ∂àÊÅØÂ≠òÂÇ®„ÄÅËøúÁ´ØÊúçÂä°„ÄÅËøáÊª§Âô®Á≠âÁ≠âÔºåÁ≤óÁúã‰∏ÄÁúºÊúâÁÇπÊôïÔºåÊ≤°ÊúâÁªßÁª≠ÂæÄ‰∏ãË∑üÔºåÊÑüÂÖ¥Ë∂£ÁöÑÂèØ‰ª•ÂéªÊ∫êÁ†Å‰∏≠ÁûÖÁûÖ=-=</p>
<h3 id="Producer"><a href="#Producer" class="headerlink" title="Producer"></a><strong>Producer</strong></h3><p>Ê∂àÊÅØÂèëÈÄÅËÄÖÔºåÂæÄÊ∂àÊÅØÈòüÂàóÂèëÈÄÅÊ∂àÊÅØÁöÑ‰∏ª‰ΩìËßíËâ≤„ÄÇ</p>
<p>‰∏ãÂõæÊòØ <code>RocketMQTemplate</code> Ë∞ÉÁî® <code>convertAndSend</code> ÊñπÊ≥ïË∞ÉÁî®ÁöÑÊó∂Â∫èÂõæÔºö</p>
<p><img src="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQTemplate-Producer-Send-Message-Flow.png" alt=""></p>
<p>Ê†∏ÂøÉÊ≠•È™§Âú® <code>DefaultMQProducerImpl</code> ÁöÑÂèëÈÄÅÂÆûÁé∞ÊñπÊ≥ïÔºåÂ∫ïÂ±ÇÈÄâÊã©Ë¶ÅÂèëÂæÄÁöÑ <code>MessageQueue</code>ÔºåÊâßË°åÂâçÁΩÆÈí©Â≠ê„ÄÅÈÄöËøá <code>NettyClinet</code> Êù•ÂèëÈÄÅËØ∑Ê±ÇÔºåÂèëÈÄÅÂÆåÊàêÂêéÊâßË°åÂêéÁΩÆÈí©Â≠êÔºåÊúÄÂêéËøîÂõû <code>SendResult</code>„ÄÇ</p>
<p>ÂÖ∑‰ΩìÂèØ‰ª•Âú® <code>SpringBoot</code> ‰∏≠ÂºïÂÖ• <code>RocketMQ-Starter</code> ‰æùËµñÔºåÁÑ∂ÂêéÂèëÈÄÅÊ∂àÊÅØÔºåÊü•ÁúãÊï¥‰ΩìË∞ÉÁî®ÈìæË∑Ø„ÄÇ</p>
<h3 id="Consumer"><a href="#Consumer" class="headerlink" title="Consumer"></a><strong>Consumer</strong></h3><ul>
<li><strong>ËØÜÂà´‰æùÊçÆ</strong></li>
</ul>
<p>‰∏Ä‰∏™Ê∂àË¥πËÄÖÂàÜÁªÑ‰∏≠ÔºåÂèØ‰ª•ËÆæÂÆöÂæàÂ§ö‰∏™ <code>Listener</code>ÔºåÊù•ÂàÜÂà´Ê∂àË¥π‰∏çÂêå <code>Topic</code> ‰∏ãÁöÑÊ∂àÊÅØ„ÄÇ</p>
<p>Âú®Ê∂àÊÅØÊ∂àË¥πÊó∂ÔºåÈúÄË¶ÅÈÄöËøá <code>ConsumerGroup</code> + <code>Topic</code> + <code>Tag</code> Êù•ÂîØ‰∏ÄÁ°ÆÂÆö <code>Listener</code>„ÄÇ</p>
<p>ÊâÄ‰ª•Âêå‰∏Ä‰∏™Ê∂àË¥πÁªÑ„ÄÅÂêå‰∏Ä‰∏™‰∏ªÈ¢ò‰∏ãÔºå‰∏çÂèØ‰ª•Âá∫Áé∞Áõ∏Âêå <code>Tag</code> ÁöÑ <code>Listener</code>ÔºåÂ∫îÁî®Âú®ÂêØÂä®Êó∂‰ºöÊä•Èîô„ÄÇ</p>
<ul>
<li><strong>‰ª£Á†ÅÂÆûÁé∞</strong></li>
</ul>
<p>ÂÆûÁé∞‰ª£Á†Å‰∏é <code>Producer</code> Âú®Âêå‰∏Ä‰∏™Ê®°ÂùóÔºö<code>client</code></p>
<p>Âú®ËÆ≤Ê∂àÊÅØÊ∂àË¥π‰πãÂâçÔºåÂÖàÊù•Áúã‰∏ãÂ∫îÁî®ÂêØÂä®Êó∂ÔºåÂÆÉÂ∞ÜÊâ´ÊèèÊâì‰∏ä <code>RocketMQMessageListener</code> Ê≥®Ëß£ÁöÑ <code>beans</code>ÔºåÁÑ∂ÂêéËøõË°åÊ≥®ÂÜåÂÆπÂô®</p>
<p><img src="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQTemplate-Springboot-Listener-Annotation.png" alt=""></p>
<p>ÊåâÁÖßÊàëÁöÑÁêÜËß£ÔºåÂú® <code>for</code> Âæ™ÁéØ‰∏≠Ê≥®ÂÜåÊâ´ÊèèÂà∞ÁöÑ <code>bean</code>ÔºåÊé•ÁùÄÂú® <code>createRocketMQListenerContainer</code> ÁªÑË£Ö <code>DefaultRocketMQListenerContainer</code>ÔºåÁÑ∂ÂêéÂú® <code>Spring</code> ÂÆπÂô®ÈáåÊ≥®ÂÜåÔºåÁ≠âÂæÖ‰πãÂêéÁöÑÊ∂àË¥π„ÄÇ</p>
<p>ÂêåÊó∂Êúâ‰∏Ä‰∏™ÂÆàÊä§Á∫øÁ®ãÂú®‰∏çÊñ≠‰ªé <code>Broker</code> ‰∏äÊãâÂèñÊ∂àÊÅØÔºåÁõëÂê¨Âà∞Á¨¶ÂêàÊù°‰ª∂ÁöÑÊ∂àÊÅØÂêéËøõË°åÊ∂àË¥πÔºö</p>
<p><img src="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Consumer_Deamon-Run.png" alt=""></p>
<p>‰∏äÈù¢Â§ßËá¥‰ªãÁªçÁöÑÊòØÂ∫îÁî®ÂêØÂä®Êó∂Ê≥®ÂÜå <code>Listener</code> ÂíåÂæ™ÁéØËé∑ÂèñÊ∂àÊÅØÁöÑËøáÁ®ãÔºåÂÖ∑‰Ωì <code>Consumer</code> ÂêØÂä®Êó∂ÁöÑ‰ª£Á†ÅÂÖ•Âè£Âú®ËøôÈáåÔºö</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer#start</div></pre></td></tr></table></figure>
<p>Ê∂àË¥πËÄÖÂêØÂä®Ê≥®ÂÜåÁöÑÊµÅÁ®ãÊØîËæÉÈïøÔºåÈúÄË¶ÅÊÖ¢ÊÖ¢Áúã~</p>
<h2 id="‰∫î„ÄÅÂÖ∑‰Ωì‰ΩøÁî®Ôºà‰ª£Á†ÅÂíåÁõëÊéß-UIÔºâ"><a href="#‰∫î„ÄÅÂÖ∑‰Ωì‰ΩøÁî®Ôºà‰ª£Á†ÅÂíåÁõëÊéß-UIÔºâ" class="headerlink" title="‰∫î„ÄÅÂÖ∑‰Ωì‰ΩøÁî®Ôºà‰ª£Á†ÅÂíåÁõëÊéß UIÔºâ"></a>‰∫î„ÄÅÂÖ∑‰Ωì‰ΩøÁî®Ôºà‰ª£Á†ÅÂíåÁõëÊéß UIÔºâ</h2><h3 id="‰∏ãËΩΩ‰ª£Á†ÅÔºàexternal-Âíå-‰∫åËøõÂà∂ÂêØÂä®ÂåÖÔºâ"><a href="#‰∏ãËΩΩ‰ª£Á†ÅÔºàexternal-Âíå-‰∫åËøõÂà∂ÂêØÂä®ÂåÖÔºâ" class="headerlink" title="‰∏ãËΩΩ‰ª£Á†ÅÔºàexternal Âíå ‰∫åËøõÂà∂ÂêØÂä®ÂåÖÔºâ"></a>‰∏ãËΩΩ‰ª£Á†ÅÔºàexternal Âíå ‰∫åËøõÂà∂ÂêØÂä®ÂåÖÔºâ</h3><ul>
<li><p><strong>external</strong>ÔºöÊâ©Â±ïÂÜÖÂÆπÔºå‰∏∫‰∫ÜËé∑ÂæóÁõëÊéßÂè∞ <code>Console</code> Âú∞ÂùÄÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">https://github.com/apache/rocketmq-externals.git</div></pre></td></tr></table></figure>
</li>
<li><p><strong>install</strong>ÔºöÂ∫îÁî®ÂêØÂä®ÂåÖÔºåÁî®Êù•ÈÉ®ÁΩ≤ <code>Namesrv</code> Âíå <code>Broker</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">https://rocketmq.apache.org/dowloading/releases/</div></pre></td></tr></table></figure>
</li>
<li><p><strong>Á®ãÂ∫èÂÆûÁé∞‰ª£Á†Å</strong>ÔºöÂ∑≤ÁªèÂºÄÊ∫êÔºåË¥°ÁåÆÁªô <code>Github</code>ÔºåÂèØ‰ª•‰∏ãËΩΩËá™Ë°åÊâìÂåÖ‰ΩøÁî®ÂíåÂèÇËÄÉÂÆûÁé∞ÊÄùË∑ØÔºåÂ≠¶‰π†Â≠¶‰π†~</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">https://github.com/apache/rocketmq</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="ÂêØÂä®-nameserver-Âíå-broker"><a href="#ÂêØÂä®-nameserver-Âíå-broker" class="headerlink" title="ÂêØÂä® nameserver Âíå broker"></a>ÂêØÂä® nameserver Âíå broker</h3><p>Âú®ÂêØÂä®‰πãÂâçÔºåËØ∑Á°Æ‰øùÊú¨Âú∞ÂÖ®Â±ÄÂèòÈáè‰∏≠ÂåÖÂê´ <code>JAVA_HOME</code> ÂèòÈáèÔºå‰æãÂ¶ÇÔºö</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$&#123;JAVA_HOME&#125;</span></span></div><div class="line">/Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home</div></pre></td></tr></table></figure>
<p>ËøõÂÖ•‰∏ãËΩΩÁöÑ <code>releases</code> ‰∫åËøõÂà∂ÂÆâË£ÖÂåÖÁõÆÂΩï</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> rocketmq-all-4.7.0-bin-release/bin</span></div><div class="line"><span class="meta">$</span><span class="bash"> sh paly.sh</span></div></pre></td></tr></table></figure>
<p>ÁÇπÂáªÊü•Áúã <code>play.sh</code> ËÑöÊú¨ÔºåÂèØ‰ª•ÁúãÂà∞ÂÆÉÂ∞Ü‰ºöÂêØÂä® <code>Namesrv</code> Âíå <code>Broker</code> ‰∏§‰∏™ÊúçÂä°~ÂêØÂä®Â•Ω‰πãÂêéÔºåÂ∞±ËÉΩÂ§üÂæÄ <code>Broker</code> ÂèëÈÄÅÂíåÊ∂àË¥πÊ∂àÊÅØ</p>
<h3 id="Springboot-ÈõÜÊàê-rocker-starter"><a href="#Springboot-ÈõÜÊàê-rocker-starter" class="headerlink" title="Springboot ÈõÜÊàê rocker-starter"></a>Springboot ÈõÜÊàê rocker-starter</h3><p>ËøôÈáå‰ΩøÁî®ÁöÑÊòØ <code>Springboot</code> ÈõÜÊàê <code>starter</code> Ê®°ÂùóÔºåÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉËøôÁØáÊñáÁ´†Ôºö</p>
<p><a href="https://www.baeldung.com/apache-rocketmq-spring-boot" target="_blank" rel="noopener">https://www.baeldung.com/apache-rocketmq-spring-boot</a></p>
<p>‰∏™‰∫∫Êï¥ÂêàÂêéÔºåÊîæÂÖ•‰∫Ü <code>Demo</code> ÁöÑ <code>Rocket</code> ÁõÆÂΩï‰∏ãÔºö</p>
<p><a href="https://github.com/Vip-Augus/springboot-note" target="_blank" rel="noopener">https://github.com/Vip-Augus/springboot-note</a></p>
<p>ËøôÈáåË¶ÅËØ¥‰∏ã <code>Listener</code> Ê∂àÊÅØÊ∂àË¥πËÄÖÂ§ÑÁêÜÊµÅÁ®ãÔºåÂ∫îÁî®‰∏çÊñ≠ÂæÄ <code>broker</code> Ëé∑ÂèñÁõëÂê¨ÁöÑ <code>Topic</code> Ê∂àÊÅØÔºåÁÑ∂ÂêéÊâæÂà∞ÂØπÂ∫îÁöÑ <code>Consumer</code> ËøõË°åÊ∂àË¥πÔºö</p>
<p><img src="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Conusmer-Listener-onMessage.png" alt=""></p>
<p>ÂèØ‰ª•Ë∑üË∏™‰∏äÂõæÂ∑¶‰æßÁöÑË∞ÉÁî®ÈìæË∑ØÔºå‰∫ÜËß£Ê∂àË¥πËÄÖÊ∂àË¥πÊ∂àÊÅØÁöÑÊï¥‰ΩìÈìæË∑Ø„ÄÇ</p>
<h3 id="ÂêØÂä®ÁõëÊéß-UI-‰ΩøÁî®"><a href="#ÂêØÂä®ÁõëÊéß-UI-‰ΩøÁî®" class="headerlink" title="ÂêØÂä®ÁõëÊéß UI ‰ΩøÁî®"></a>ÂêØÂä®ÁõëÊéß UI ‰ΩøÁî®</h3><p>ËøõÂÖ•ÂàöÊâç‰∏ãËΩΩÁöÑ <code>external</code> Ë∑ØÂæÑÔºåÈáåÈù¢Êúâ‰∏™ <code>rocketmq-console</code> ÁõÆÂΩïÔºåÈò≤Ê≠¢Âç†Áî® 8080 Á´ØÂè£ÔºåÈúÄË¶Å‰øÆÊîπ‰∏Ä‰∏ãÔºåÂÖ∑‰ΩìË¶Å‰øÆÊîπÁöÑÂú∞ÊñπÊúâ‰∏§Â§ÑÔºö</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># UI ÁõëÊéßÁ≥ªÁªüÁöÑËÆøÈóÆÁ´ØÂè£</div><div class="line">server.port=10010</div><div class="line"># Namesrv ÁöÑÂú∞ÂùÄÔºåÂ¶ÇÊûúÊúâÂ§ö‰∏™ÔºåËØ∑Áî®ÂàÜÂè∑ ; ÂàÜÈöîÂºÄ</div><div class="line">#if this value is empty,use env value rocketmq.config.namesrvAddr  NAMESRV_ADDR | now, you can set it in ops page.default localhost:9876</div><div class="line">rocketmq.config.namesrvAddr=localhost:9876</div></pre></td></tr></table></figure>
<p><code>rocket-console</code> ÊòØ‰∏Ä‰∏™ <code>Springboot</code> È°πÁõÆÔºå‰øÆÊîπÁõ∏ÂÖ≥ÈÖçÁΩÆÂêéÔºåÈúÄË¶ÅÁªèËøáÊâìÂåÖÁÑ∂ÂêéÈÉ®ÁΩ≤</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> mvn clean install -DskipTests</span></div><div class="line"><span class="meta">$</span><span class="bash"> java -jar target/rocketmq-console-ng-1.0.1.jar</span></div></pre></td></tr></table></figure>
<p>Êé•ÁùÄËÆøÈóÆÂâçÈù¢ËÆæÂÆöÁöÑÁ´ØÂè£ÔºåÂ∞±ËÉΩÁúãÂà∞ÁõëÊéßÂπ≥Âè∞Ôºö</p>
<p><img src="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Console-Control.png" alt=""></p>
<p>È°∂ÈÉ®ÁöÑÂØºËà™Ê†èÊ†áËØÜ‰∫ÜÂÆÉÊã•ÊúâÁöÑÂäüËÉΩÔºå‰æãÂ¶ÇÊÉ≥ÁúãÊüê‰∏™ <code>Topic</code> ÂèëÂæÄÂì™‰∏™ <code>Broker</code>ÔºåÁÑ∂ÂêéË¢´ËÆ¢ÈòÖÁöÑÊ∂àË¥πÁªÑÊúâÂì™‰∫õÔºåÈÉΩÂèØ‰ª•ÈÄöËøáÁõëÊéßÊù•ËøõË°åÊü•ÁúãÔºö</p>
<p><img src="https://gitee.com/vip-augus/blog-picture/raw/master/RocketMQ/Introduction/RocketMQ-Console-Topic-ConsumerConfig.png" alt=""></p>
<h2 id="ÂÖ≠„ÄÅÂêéÁª≠Â≠¶‰π†ËÆ°Âàí"><a href="#ÂÖ≠„ÄÅÂêéÁª≠Â≠¶‰π†ËÆ°Âàí" class="headerlink" title="ÂÖ≠„ÄÅÂêéÁª≠Â≠¶‰π†ËÆ°Âàí"></a>ÂÖ≠„ÄÅÂêéÁª≠Â≠¶‰π†ËÆ°Âàí</h2><p>Êó•Â∏∏‰ΩøÁî®‰∏≠ÔºåÂü∫Êú¨ÂèØ‰ª•‰∏çÂéª‰øÆÊîπ <code>Nameserver</code> Âíå <code>Broker</code> Ëøô‰∏§‰∏™Ê®°ÂùóÁöÑÊúçÂä°ÔºåÊõ¥Â§öÂÖ≥Ê≥®ÁöÑÊòØ <code>Producer</code> Âíå <code>Consumer</code> ÁöÑ‰ΩøÁî®ÔºåÂêåÊó∂ÂèØ‰ª•ÂØπ‰ªñ‰ª¨ËøõË°å‰∫åÊ¨°Â∞ÅË£ÖÔºåÊõøÊç¢ÂÖ∂‰∏≠ÁöÑ <code>DefaultMQProducer</code> Âíå <code>MQConsumer</code> ÂÆûÁé∞Á±ªÔºåÊâìÈÄ†ÈÄÇÂêàËá™Ë∫´‰∏öÂä°ÁöÑÂèëÈÄÅËÄÖÂíåÊ∂àË¥πËÄÖ„ÄÇ</p>
<p>Êú¨Ê¨°ÂàÜ‰∫´Â§ß‰ªãÁªç‰∫Ü <code>RocketMQ</code> ÁöÑËÆæËÆ°Êû∂ÊûÑ„ÄÅÊ†∏ÂøÉÊ®°ÂùóÁöÑËÆæËÆ°„ÄÅÊ∫êÁ†Å‰ΩçÁΩÆÂíåÊ∂àÊÅØÂèëÈÄÅ‰ª•ÂèäÊ∂àË¥πÁöÑÂ§ßËá¥ÊµÅÁ®ãÔºå‰ªãÁªç‰∫Ü <code>RocketMQTemplate</code> Âü∫Á°Ä‰ΩøÁî®ËøòÊúâÁõëÊéß <code>Console UI</code> ÁöÑÊü•ÁúãÂíå‰ΩøÁî®Ôºå‰ΩÜÂÖ≥‰∫é‰ΩçÁßªÈáè„ÄÅÊ∂àÊÅØÂ≠òÂÇ®Ê†ºÂºè„ÄÅÂêåÊ≠•„ÄÅÂºÇÊ≠•Âà∑ÁõòÊñπÂºèÂíåÊ∂àÊÅØÈáçÂ§çÁ≠âÁ≠âËØ¶ÁªÜËÆæËÆ°ÈÉΩËøòÊ≤°ÊúâÂéª‰∫ÜËß£ÔºåÊúâÊú∫‰ºöÁöÑËØù‰πãÂêéÂÜçÂéª‰∫ÜËß£ÂíåÂàÜ‰∫´~</p>
<h2 id="ÂèÇËÄÉËµÑÊñô"><a href="#ÂèÇËÄÉËµÑÊñô" class="headerlink" title="ÂèÇËÄÉËµÑÊñô"></a>ÂèÇËÄÉËµÑÊñô</h2><p>1„ÄÅ<a href="https://help.aliyun.com/document_detail/29532.html?spm=5176.234368.1277512.1.4a5adb25OEpOO8" target="_blank" rel="noopener">ÈòøÈáå‰∫ë‰∫ßÂìÅÂÆòÊñπÊñáÊ°£</a></p>
<p>2„ÄÅ<a href="https://help.aliyun.com/document_detail/29533.html?spm=a2c4g.11186623.6.561.7ce578b4BFG6d8" target="_blank" rel="noopener">ÈòøÈáå‰∫ë RocketMQ ÂêçËØçËß£Èáä</a></p>
<p>3„ÄÅ<a href="https://louluan.blog.csdn.net/article/details/91368332" target="_blank" rel="noopener">„ÄäÊ∑±ÂÖ•ÁêÜËß£RocketMQ„Äã- MQÊ∂àÊÅØÁöÑÊäïÈÄíÊú∫Âà∂</a></p>
<p>4„ÄÅ<a href="https://youzhixueyuan.com/architecture-design-of-rocketmq.html" target="_blank" rel="noopener">Ê∂àÊÅØ‰∏≠Èó¥‰ª∂Á≥ªÂàó(‰πù)ÔºöËØ¶Ëß£RocketMQÁöÑÊû∂ÊûÑËÆæËÆ°„ÄÅÂÖ≥ÈîÆÁâπÊÄß„ÄÅ‰∏éÂ∫îÁî®Âú∫ÊôØ</a></p>
<p>5„ÄÅ<a href="https://juejin.im/post/5de3c8026fb9a07194761641" target="_blank" rel="noopener">„ÄäÊµÖÂÖ•ÊµÖÂá∫„Äã-RocketMQ</a></p>
<p>6„ÄÅ<a href="https://chenjiayang.me/2019/09/09/rocketmq/#%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E7%9A%84%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86" target="_blank" rel="noopener">RocketMQ ÂàÜ‰∫´ÂÖ®Á∫™ÂÆû</a></p>
<p>7„ÄÅ<a href="https://juejin.im/entry/5a0abfb5f265da43062a4a91" target="_blank" rel="noopener">ÈòøÈáå RocketMQ ÊÄßËÉΩ‰ªãÁªç</a></p>
<p>8„ÄÅ<a href="http://jm.taobao.org/2016/03/24/rmq-vs-kafka/" target="_blank" rel="noopener">RocketMQ‰∏ékafkaÂØπÊØîÔºà18È°πÂ∑ÆÂºÇÔºâ</a></p>
<p>9„ÄÅ<a href="https://blog.csdn.net/wanderlustLee/article/details/89294355" target="_blank" rel="noopener">RocketMQÊ∂àÊÅØÊ∂àË¥πÊñπÂºè Êé®ÊãâÊ®°Âºè</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/RocketMQ/" rel="tag"># RocketMQ</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/04/04/redis/2020-04-04-annotation-redis-lock/" rel="next" title="‰ΩøÁî®Ê≥®Ëß£ÂΩ¢ÂºèÂÆûÁé∞ Redis ÂàÜÂ∏ÉÂºèÈîÅ">
                <i class="fa fa-chevron-left"></i> ‰ΩøÁî®Ê≥®Ëß£ÂΩ¢ÂºèÂÆûÁé∞ Redis ÂàÜÂ∏ÉÂºèÈîÅ
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/05/15/java/2020-05-16-java-concurrent-book-learn/" rel="prev" title="Âπ∂ÂèëÁºñÁ®ãËØªÂêéÊÑü & AQS ÂàùÊé¢">
                Âπ∂ÂèëÁºñÁ®ãËØªÂêéÊÑü & AQS ÂàùÊé¢ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zNjEzNi8xMjY3MQ=="></div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            ÊñáÁ´†ÁõÆÂΩï
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Á´ôÁÇπÊ¶ÇËßà
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://gitee.com/vip-augus/blog-picture/raw/master/panda.jpg"
               alt="JingQ" />
          <p class="site-author-name" itemprop="name">JingQ</p>
           
              <p class="site-description motion-element" itemprop="description">Âä™ÂäõÂ≠¶‰π†</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">95</span>
                <span class="site-state-item-name">Êó•Âøó</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">28</span>
                <span class="site-state-item-name">ÂàÜÁ±ª</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">22</span>
                <span class="site-state-item-name">Ê†áÁ≠æ</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Vip-Augus" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.weibo.com/yjq41596" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                    
                      Weibo
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.douban.com/people/YeJingQi" target="_blank" title="Douban">
                  
                    <i class="fa fa-fw fa-anchor"></i>
                  
                    
                      Douban
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto://JingQBoom@gmail.com" target="_blank" title="E-Mail">
                  
                    <i class="fa fa-fw fa-envelope"></i>
                  
                    
                      E-Mail
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#‰∏Ä„ÄÅÊï¥‰ΩìÊû∂ÊûÑ"><span class="nav-number">1.</span> <span class="nav-text">‰∏Ä„ÄÅÊï¥‰ΩìÊû∂ÊûÑ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#‰∫å„ÄÅ‰ºòÁÇπÁâπÊÄß"><span class="nav-number">2.</span> <span class="nav-text">‰∫å„ÄÅ‰ºòÁÇπÁâπÊÄß</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#‰∏â„ÄÅÁÆÄËø∞ÂêÑ‰∏™ÂêçËØçÊ¶ÇÂøµ"><span class="nav-number">3.</span> <span class="nav-text">‰∏â„ÄÅÁÆÄËø∞ÂêÑ‰∏™ÂêçËØçÊ¶ÇÂøµ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Âõõ„ÄÅËØ¶ËØ¥Ê†∏ÂøÉÊ®°Âùó"><span class="nav-number">4.</span> <span class="nav-text">Âõõ„ÄÅËØ¶ËØ¥Ê†∏ÂøÉÊ®°Âùó</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Nameserver"><span class="nav-number">4.1.</span> <span class="nav-text">Nameserver</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Broker"><span class="nav-number">4.2.</span> <span class="nav-text">Broker</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Producer"><span class="nav-number">4.3.</span> <span class="nav-text">Producer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Consumer"><span class="nav-number">4.4.</span> <span class="nav-text">Consumer</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#‰∫î„ÄÅÂÖ∑‰Ωì‰ΩøÁî®Ôºà‰ª£Á†ÅÂíåÁõëÊéß-UIÔºâ"><span class="nav-number">5.</span> <span class="nav-text">‰∫î„ÄÅÂÖ∑‰Ωì‰ΩøÁî®Ôºà‰ª£Á†ÅÂíåÁõëÊéß UIÔºâ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#‰∏ãËΩΩ‰ª£Á†ÅÔºàexternal-Âíå-‰∫åËøõÂà∂ÂêØÂä®ÂåÖÔºâ"><span class="nav-number">5.1.</span> <span class="nav-text">‰∏ãËΩΩ‰ª£Á†ÅÔºàexternal Âíå ‰∫åËøõÂà∂ÂêØÂä®ÂåÖÔºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ÂêØÂä®-nameserver-Âíå-broker"><span class="nav-number">5.2.</span> <span class="nav-text">ÂêØÂä® nameserver Âíå broker</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Springboot-ÈõÜÊàê-rocker-starter"><span class="nav-number">5.3.</span> <span class="nav-text">Springboot ÈõÜÊàê rocker-starter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ÂêØÂä®ÁõëÊéß-UI-‰ΩøÁî®"><span class="nav-number">5.4.</span> <span class="nav-text">ÂêØÂä®ÁõëÊéß UI ‰ΩøÁî®</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ÂÖ≠„ÄÅÂêéÁª≠Â≠¶‰π†ËÆ°Âàí"><span class="nav-number">6.</span> <span class="nav-text">ÂÖ≠„ÄÅÂêéÁª≠Â≠¶‰π†ËÆ°Âàí</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ÂèÇËÄÉËµÑÊñô"><span class="nav-number">7.</span> <span class="nav-text">ÂèÇËÄÉËµÑÊñô</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-JingQ"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JingQ</span>
</div>

<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  Êú¨Á´ôËÆøÂÆ¢Êï∞:<span id="busuanzi_value_site_uv"></span>
</span>
</div>


<div class="powered-by">
  Áî± <a class="theme-link" href="https://hexo.io">Hexo</a> Âº∫ÂäõÈ©±Âä®
</div>

<a href="http://www.beian.miit.gov.cn">ÊµôICPÂ§á17002280Âè∑-1</a> 

<div class="theme-info">
  ‰∏ªÈ¢ò -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i> ËÆøÈóÆ‰∫∫Êï∞
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i> ÊÄªËÆøÈóÆÈáè
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      Ê¨°
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  






  





  

  

  

  

  

  

  
</body>
</html>
