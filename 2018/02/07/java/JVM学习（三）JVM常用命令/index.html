<!DOCTYPE html>

<html class lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Java,">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2">






<meta name="description" content="æœ¬ç¯‡è®°å½•JVMå¸¸ç”¨çš„æŒ‡ä»¤ï¼Œé€šè¿‡Javaçš„binç›®å½•ä¸‹å¼ºå¤§çš„å·¥å…·å°±èƒ½è¿›è¡ŒæŸ¥çœ‹ã€‚ å…¶ä¸­å¾ˆå¤šå‘½ä»¤å‚è€ƒoptionå‚æ•°ï¼Œè‡ªå·±è¦å¤šæ•²å‡ éæ‰èƒ½è®°ä½ã€‚  JVMå¸¸ç”¨å‘½ä»¤å…¶ä¸­[]æ–¹æ‹¬å·å†…çš„å‚æ•°ï¼Œè¡¨ç¤ºå¯æœ‰å¯æ— ã€‚  jps JVM Process Status Tool,æ˜¾ç¤ºæŒ‡å®šç³»ç»Ÿå†…æ‰€æœ‰çš„HotSpotè™šæ‹Ÿæœºè¿›ç¨‹ã€‚ å‘½ä»¤æ ¼å¼1jps [option] [hostid] optionå‚æ•°1234-l : è¾“å‡ºä¸»ç±»å…¨å">
<meta name="keywords" content="Java">
<meta property="og:type" content="article">
<meta property="og:title" content="JVMå­¦ä¹ ï¼ˆä¸‰ï¼‰JVMå¸¸ç”¨å‘½ä»¤">
<meta property="og:url" content="http://yoursite.com/2018/02/07/java/JVMå­¦ä¹ ï¼ˆä¸‰ï¼‰JVMå¸¸ç”¨å‘½ä»¤/index.html">
<meta property="og:site_name" content="JingQ">
<meta property="og:description" content="æœ¬ç¯‡è®°å½•JVMå¸¸ç”¨çš„æŒ‡ä»¤ï¼Œé€šè¿‡Javaçš„binç›®å½•ä¸‹å¼ºå¤§çš„å·¥å…·å°±èƒ½è¿›è¡ŒæŸ¥çœ‹ã€‚ å…¶ä¸­å¾ˆå¤šå‘½ä»¤å‚è€ƒoptionå‚æ•°ï¼Œè‡ªå·±è¦å¤šæ•²å‡ éæ‰èƒ½è®°ä½ã€‚  JVMå¸¸ç”¨å‘½ä»¤å…¶ä¸­[]æ–¹æ‹¬å·å†…çš„å‚æ•°ï¼Œè¡¨ç¤ºå¯æœ‰å¯æ— ã€‚  jps JVM Process Status Tool,æ˜¾ç¤ºæŒ‡å®šç³»ç»Ÿå†…æ‰€æœ‰çš„HotSpotè™šæ‹Ÿæœºè¿›ç¨‹ã€‚ å‘½ä»¤æ ¼å¼1jps [option] [hostid] optionå‚æ•°1234-l : è¾“å‡ºä¸»ç±»å…¨å">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-05-25T09:18:34.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JVMå­¦ä¹ ï¼ˆä¸‰ï¼‰JVMå¸¸ç”¨å‘½ä»¤">
<meta name="twitter:description" content="æœ¬ç¯‡è®°å½•JVMå¸¸ç”¨çš„æŒ‡ä»¤ï¼Œé€šè¿‡Javaçš„binç›®å½•ä¸‹å¼ºå¤§çš„å·¥å…·å°±èƒ½è¿›è¡ŒæŸ¥çœ‹ã€‚ å…¶ä¸­å¾ˆå¤šå‘½ä»¤å‚è€ƒoptionå‚æ•°ï¼Œè‡ªå·±è¦å¤šæ•²å‡ éæ‰èƒ½è®°ä½ã€‚  JVMå¸¸ç”¨å‘½ä»¤å…¶ä¸­[]æ–¹æ‹¬å·å†…çš„å‚æ•°ï¼Œè¡¨ç¤ºå¯æœ‰å¯æ— ã€‚  jps JVM Process Status Tool,æ˜¾ç¤ºæŒ‡å®šç³»ç»Ÿå†…æ‰€æœ‰çš„HotSpotè™šæ‹Ÿæœºè¿›ç¨‹ã€‚ å‘½ä»¤æ ¼å¼1jps [option] [hostid] optionå‚æ•°1234-l : è¾“å‡ºä¸»ç±»å…¨å">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'JingQ'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/02/07/java/JVMå­¦ä¹ ï¼ˆä¸‰ï¼‰JVMå¸¸ç”¨å‘½ä»¤/">





  <title>JVMå­¦ä¹ ï¼ˆä¸‰ï¼‰JVMå¸¸ç”¨å‘½ä»¤ | JingQ</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">JingQ</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-javatech">
          <a href="http://www.justdojava.com/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            Java Geek Tech
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/07/java/JVMå­¦ä¹ ï¼ˆä¸‰ï¼‰JVMå¸¸ç”¨å‘½ä»¤/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JingQ">
      <meta itemprop="description" content>
      <meta itemprop="image" content="http://img.sevenyuan.cn/panda.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JingQ">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">JVMå­¦ä¹ ï¼ˆä¸‰ï¼‰JVMå¸¸ç”¨å‘½ä»¤</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-02-07T23:51:52+08:00">
                2018-02-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i> æ¸¸è§ˆ
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>æ¬¡
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>æœ¬ç¯‡è®°å½•JVMå¸¸ç”¨çš„æŒ‡ä»¤ï¼Œé€šè¿‡Javaçš„binç›®å½•ä¸‹å¼ºå¤§çš„å·¥å…·å°±èƒ½è¿›è¡ŒæŸ¥çœ‹ã€‚</p>
<p>å…¶ä¸­å¾ˆå¤šå‘½ä»¤å‚è€ƒoptionå‚æ•°ï¼Œè‡ªå·±è¦å¤šæ•²å‡ éæ‰èƒ½è®°ä½ã€‚</p>
<hr>
<h2 id="JVMå¸¸ç”¨å‘½ä»¤"><a href="#JVMå¸¸ç”¨å‘½ä»¤" class="headerlink" title="JVMå¸¸ç”¨å‘½ä»¤"></a>JVMå¸¸ç”¨å‘½ä»¤</h2><p>å…¶ä¸­[]æ–¹æ‹¬å·å†…çš„å‚æ•°ï¼Œè¡¨ç¤ºå¯æœ‰å¯æ— ã€‚</p>
<hr>
<h3 id="jps"><a href="#jps" class="headerlink" title="jps"></a><strong>jps</strong></h3><hr>
<p>JVM Process Status Tool,æ˜¾ç¤ºæŒ‡å®šç³»ç»Ÿå†…æ‰€æœ‰çš„HotSpotè™šæ‹Ÿæœºè¿›ç¨‹ã€‚</p>
<p><strong>å‘½ä»¤æ ¼å¼</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jps [option] [hostid]</span><br></pre></td></tr></table></figure></p>
<p><strong>optionå‚æ•°</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-l : è¾“å‡ºä¸»ç±»å…¨åæˆ–jarè·¯å¾„</span><br><span class="line">-q : åªè¾“å‡ºLVMID</span><br><span class="line">-m : è¾“å‡ºJVMå¯åŠ¨æ—¶ä¼ é€’ç»™main()çš„å‚æ•°</span><br><span class="line">-v : è¾“å‡ºJVMå¯åŠ¨æ—¶æ˜¾ç¤ºæŒ‡å®šçš„JVMå‚æ•°</span><br></pre></td></tr></table></figure></p>
<p>ç¤ºä¾‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_247_254_centos ~]#jps -lm</span><br><span class="line">26176 org.apache.zookeeper.server.quorum.QuorumPeerMain /usr/local/zookeeper-3.4.10/bin/../conf/zoo.cfg</span><br><span class="line">25044 /usr/local/apache-activemq-5.14.5//bin/activemq.jar start</span><br><span class="line">23732 sun.tools.jps.Jps -lm</span><br><span class="line">25446 org.apache.catalina.startup.Bootstrap start</span><br></pre></td></tr></table></figure></p>
<p>æœ€å‰é¢æ•°å­—è¡¨ç¤ºPIDï¼Œåé¢æœ‰ç”¨åˆ°ã€‚</p>
<hr>
<h2 id="jstat"><a href="#jstat" class="headerlink" title="jstat"></a><strong>jstat</strong></h2><hr>
<p>jstat(JVM statistics Monitoring)æ˜¯ç”¨äºç›‘è§†è™šæ‹Ÿæœºè¿è¡Œæ—¶çŠ¶æ€ä¿¡æ¯çš„å‘½ä»¤ï¼Œå®ƒå¯ä»¥æ˜¾ç¤ºå‡ºè™šæ‹Ÿæœºè¿›ç¨‹ä¸­çš„ç±»è£…è½½ã€å†…å­˜ã€åƒåœ¾æ”¶é›†ã€JITç¼–è¯‘ç­‰è¿è¡Œæ•°æ®ã€‚</p>
<p><strong>å‘½ä»¤æ ¼å¼</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">jstat [option] LVMID [interval] [count]</span><br><span class="line"></span><br><span class="line">[option] : æ“ä½œå‚æ•°</span><br><span class="line">LVMID : æœ¬åœ°è™šæ‹Ÿæœºè¿›ç¨‹ID</span><br><span class="line">[interval] : è¿ç»­è¾“å‡ºçš„æ—¶é—´é—´éš”</span><br><span class="line">[count] : è¿ç»­è¾“å‡ºçš„æ¬¡æ•°</span><br></pre></td></tr></table></figure></p>
<p><strong>optionå‚æ•°</strong></p>
<table>
<thead>
<tr>
<th>Option</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td>class</td>
<td>class loaderçš„è¡Œä¸ºç»Ÿè®¡ã€‚Statistics on the behavior of the class loader.</td>
</tr>
<tr>
<td>compiler</td>
<td>HotSpt JITç¼–è¯‘å™¨è¡Œä¸ºç»Ÿè®¡ã€‚Statistics of the behavior of the HotSpot Just-in-Time compiler.</td>
</tr>
<tr>
<td>gc</td>
<td>åƒåœ¾å›æ”¶å †çš„è¡Œä¸ºç»Ÿè®¡ã€‚Statistics of the behavior of the garbage collected heap.</td>
</tr>
<tr>
<td>gccapacity</td>
<td>å„ä¸ªåƒåœ¾å›æ”¶ä»£å®¹é‡(young,old,perm)å’Œä»–ä»¬ç›¸åº”çš„ç©ºé—´ç»Ÿè®¡ã€‚Statistics of the capacities of the generations and their corresponding spaces.</td>
</tr>
<tr>
<td>gcutil</td>
<td>åƒåœ¾å›æ”¶ç»Ÿè®¡æ¦‚è¿°ã€‚Summary of garbage collection statistics.</td>
</tr>
<tr>
<td>gccause</td>
<td>åƒåœ¾æ”¶é›†ç»Ÿè®¡æ¦‚è¿°ï¼ˆåŒ-gcutilï¼‰ï¼Œé™„åŠ æœ€è¿‘ä¸¤æ¬¡åƒåœ¾å›æ”¶äº‹ä»¶çš„åŸå› ã€‚Summary of garbage collection statistics (same as -gcutil), with the cause of the last and</td>
</tr>
<tr>
<td>gcnew</td>
<td>æ–°ç”Ÿä»£è¡Œä¸ºç»Ÿè®¡ã€‚Statistics of the behavior of the new generation.</td>
</tr>
<tr>
<td>gcnewcapacity</td>
<td>æ–°ç”Ÿä»£ä¸å…¶ç›¸åº”çš„å†…å­˜ç©ºé—´çš„ç»Ÿè®¡ã€‚Statistics of the sizes of the new generations and its corresponding spaces.</td>
</tr>
<tr>
<td>gcold</td>
<td>å¹´è€ä»£å’Œæ°¸ç”Ÿä»£è¡Œä¸ºç»Ÿè®¡ã€‚Statistics of the behavior of the old and permanent generations.</td>
</tr>
<tr>
<td>gcoldcapacity</td>
<td>å¹´è€ä»£è¡Œä¸ºç»Ÿè®¡ã€‚Statistics of the sizes of the old generation.</td>
</tr>
<tr>
<td>gcpermcapacity</td>
<td>æ°¸ç”Ÿä»£è¡Œä¸ºç»Ÿè®¡ã€‚Statistics of the sizes of the permanent generation.</td>
</tr>
<tr>
<td>printcompilation</td>
<td>HotSpotç¼–è¯‘æ–¹æ³•ç»Ÿè®¡ã€‚HotSpot compilation method statistics.</td>
</tr>
</tbody>
</table>
<p><strong>ä¾‹å¦‚æŸ¥çœ‹åƒåœ¾å›æ”¶å †çš„è¡Œä¸ºç»Ÿè®¡</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_247_254_centos ~]# jstat -gc 25446</span><br><span class="line"> S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT</span><br><span class="line">6400.0 6400.0  0.0   1601.4 51712.0  50837.0   128808.0   88450.0   67584.0 66167.7 7936.0 7630.5    401    5.939  10      1.247    7.186</span><br></pre></td></tr></table></figure></p>
<p>é¡ºä¾¿ä»‹ç»ä¸€ä¸‹å‚æ•°æ„ä¹‰ï¼š<br><strong>Cï¼šCapacityè¡¨ç¤ºçš„æ˜¯å®¹é‡ Uï¼šUsedè¡¨ç¤ºçš„æ˜¯å·²ä½¿ç”¨</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">S0C : survivor0åŒºçš„æ€»å®¹é‡</span><br><span class="line">S1C : survivor1åŒºçš„æ€»å®¹é‡</span><br><span class="line">S0U : survivor0åŒºå·²ä½¿ç”¨çš„å®¹é‡</span><br><span class="line">S1C : survivor1åŒºå·²ä½¿ç”¨çš„å®¹é‡</span><br><span class="line">EC : EdenåŒºçš„æ€»å®¹é‡</span><br><span class="line">EU : EdenåŒºå·²ä½¿ç”¨çš„å®¹é‡</span><br><span class="line">OC : OldåŒºçš„æ€»å®¹é‡</span><br><span class="line">OU : OldåŒºå·²ä½¿ç”¨çš„å®¹é‡</span><br><span class="line">PC å½“å‰permçš„å®¹é‡ (KB)</span><br><span class="line">PU permçš„ä½¿ç”¨ (KB)</span><br><span class="line">YGC : æ–°ç”Ÿä»£åƒåœ¾å›æ”¶æ¬¡æ•°</span><br><span class="line">YGCT : æ–°ç”Ÿä»£åƒåœ¾å›æ”¶æ—¶é—´</span><br><span class="line">FGC : è€å¹´ä»£åƒåœ¾å›æ”¶æ¬¡æ•°</span><br><span class="line">FGCT : è€å¹´ä»£åƒåœ¾å›æ”¶æ—¶é—´</span><br><span class="line">GCT : åƒåœ¾å›æ”¶æ€»æ¶ˆè€—æ—¶é—´</span><br></pre></td></tr></table></figure></p>
<p>ä¸Šé¢æœ‰å¾ˆå¤šä¸ªoptionå‚æ•°ï¼Œå¯ä»¥ä¸€ä¸ªä¸ªæ•²è¿‡å»çœ‹çœ‹å…·ä½“çš„ä½œç”¨ã€‚</p>
<hr>
<h2 id="jmap"><a href="#jmap" class="headerlink" title="jmap"></a><strong>jmap</strong></h2><hr>
<p>jmap(JVM Memory Map)å‘½ä»¤ç”¨äºç”Ÿæˆheap dumpæ–‡ä»¶ï¼Œå¦‚æœä¸ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨-XX:+HeapDumpOnOutOfMemoryErrorå‚æ•°æ¥è®©è™šæ‹Ÿæœºå‡ºç°OOMçš„æ—¶å€™ï¼Œè‡ªåŠ¨ç”Ÿæˆdumpæ–‡ä»¶ã€‚<br>jmapä¸ä»…èƒ½ç”Ÿæˆdumpæ–‡ä»¶ï¼Œè¿˜å¯ä»¥æŸ¥è¯¢finalizeæ‰§è¡Œé˜Ÿåˆ—ã€Javaå †å’Œæ°¸ä¹…ä»£çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚å½“å‰ä½¿ç”¨ç‡ã€å½“å‰ä½¿ç”¨çš„æ˜¯å“ªç§æ”¶é›†å™¨ç­‰ã€‚</p>
<p><strong>å‘½ä»¤æ ¼å¼</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jmap [option] LVMID</span><br></pre></td></tr></table></figure></p>
<p><strong>optionå‚æ•°</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dump          : ç”Ÿæˆå †è½¬å‚¨å¿«ç…§</span><br><span class="line">finalizerinfo : æ˜¾ç¤ºåœ¨F-Queueé˜Ÿåˆ—ç­‰å¾…Finalizerçº¿ç¨‹æ‰§è¡Œfinalizeræ–¹æ³•çš„å¯¹è±¡</span><br><span class="line">heap          : æ˜¾ç¤ºJavaå †è¯¦ç»†ä¿¡æ¯</span><br><span class="line">histo         : æ˜¾ç¤ºå †ä¸­å¯¹è±¡çš„ç»Ÿè®¡ä¿¡æ¯</span><br><span class="line">permstat      : to print permanent generation statistics</span><br><span class="line">F             : å½“-dumpæ²¡æœ‰å“åº”æ—¶ï¼Œå¼ºåˆ¶ç”Ÿæˆdumpå¿«ç…§</span><br></pre></td></tr></table></figure></p>
<p><strong>ä¸¾ä¸ªğŸŒ°</strong></p>
<ul>
<li><strong>-dump</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jmap -dump:format=b,file=dump.dprof 25446</span><br><span class="line">Dumping heap to /home/gem/dump.dprof ...</span><br><span class="line">Heap dump file created</span><br></pre></td></tr></table></figure>
<p><strong>è¾“å‡º.dprofæ–‡ä»¶åï¼Œä½¿ç”¨MATåˆ†æå·¥å…·è¿›è¡Œåˆ†æ</strong></p>
<ul>
<li><strong>-heap</strong><br>æ‰“å°heapçš„æ¦‚è¦ä¿¡æ¯ï¼ŒGCä½¿ç”¨çš„ç®—æ³•ï¼Œheapçš„é…ç½®åŠwise heapçš„ä½¿ç”¨æƒ…å†µ,å¯ä»¥ç”¨æ­¤æ¥åˆ¤æ–­å†…å­˜ç›®å‰çš„ä½¿ç”¨æƒ…å†µä»¥åŠåƒåœ¾å›æ”¶æƒ…å†µ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">jmap -heap 25446</span><br><span class="line">Attaching to process ID 25446, please wait...</span><br><span class="line">Debugger attached successfully.</span><br><span class="line">Server compiler detected.</span><br><span class="line">JVM version is 25.121-b13</span><br><span class="line"></span><br><span class="line">using thread-local object allocation.</span><br><span class="line">Mark Sweep Compact GC  //GC æ–¹å¼ ,è¯¥æ¬¡æ˜¯æ ‡è®°-æ¸…ç†ç®—æ³•ï¼Œä¸Šä¸€ç¯‡æœ‰è®°å½•å“¦</span><br><span class="line"></span><br><span class="line">//å †å†…å­˜åˆå§‹åŒ–é…ç½®</span><br><span class="line">Heap Configuration:  </span><br><span class="line">   //å¯¹åº”jvmå¯åŠ¨å‚æ•°-XX:MinHeapFreeRatioè®¾ç½®JVMå †æœ€å°ç©ºé—²æ¯”ç‡(default 40)</span><br><span class="line">   MinHeapFreeRatio         = 40   </span><br><span class="line">   //å¯¹åº”jvmå¯åŠ¨å‚æ•° -XX:MaxHeapFreeRatioè®¾ç½®JVMå †æœ€å¤§ç©ºé—²æ¯”ç‡(default 70)</span><br><span class="line">   MaxHeapFreeRatio         = 70</span><br><span class="line">   //å¯¹åº”jvmå¯åŠ¨å‚æ•°-XX:MaxHeapSize=è®¾ç½®JVMå †çš„æœ€å¤§å¤§å°</span><br><span class="line">   MaxHeapSize              = 262144000 (250.0MB)</span><br><span class="line">   //å¯¹åº”jvmå¯åŠ¨å‚æ•°-XX:NewSize=è®¾ç½®JVMå †çš„â€˜æ–°ç”Ÿä»£â€™çš„é»˜è®¤å¤§å°</span><br><span class="line">   NewSize                  = 5570560 (5.3125MB)</span><br><span class="line">   //å¯¹åº”jvmå¯åŠ¨å‚æ•°-XX:MaxNewSize=è®¾ç½®JVMå †çš„â€˜æ–°ç”Ÿä»£â€™ï¼ˆYGï¼‰çš„æœ€å¤§å¤§å°</span><br><span class="line">   MaxNewSize               = 87359488 (83.3125MB)</span><br><span class="line">   //å¯¹åº”jvmå¯åŠ¨å‚æ•°-XX:OldSize=&lt;value&gt;:è®¾ç½®JVMå †çš„â€˜è€ç”Ÿä»£â€™ï¼ˆOGï¼‰çš„å¤§å°</span><br><span class="line">   OldSize                  = 11206656 (10.6875MB)</span><br><span class="line">   //å¯¹åº”jvmå¯åŠ¨å‚æ•°-XX:NewRatio=:â€˜æ–°ç”Ÿä»£â€™å’Œâ€˜è€å¹´ä»£â€™çš„å¤§å°æ¯”ç‡</span><br><span class="line">   NewRatio                 = 2</span><br><span class="line">   //å¯¹åº”jvmå¯åŠ¨å‚æ•°-XX:SurvivorRatio=è®¾ç½®å¹´è½»ä»£ä¸­EdenåŒºä¸SurvivoråŒºçš„å¤§å°æ¯”å€¼ </span><br><span class="line">   SurvivorRatio            = 8</span><br><span class="line">   //å…ƒç©ºé—´å¤§å°ï¼Œå¯¹åº”-XX:MetaspaceSizeï¼Œåˆå§‹ç©ºé—´å¤§å°</span><br><span class="line">   //è¾¾åˆ°è¯¥å€¼å°±ä¼šè§¦å‘åƒåœ¾æ”¶é›†è¿›è¡Œç±»å‹å¸è½½ï¼ŒåŒæ—¶GCä¼šå¯¹è¯¥å€¼è¿›è¡Œè°ƒæ•´</span><br><span class="line">   //JDK 8 ä¸­æ°¸ä¹…ä»£å‘å…ƒç©ºé—´çš„è½¬æ¢</span><br><span class="line">   MetaspaceSize            = 21807104 (20.796875MB)</span><br><span class="line">   //åªæœ‰å½“-XX:+UseCompressedClassPointerså¼€å¯äº†æ‰æœ‰æ•ˆ</span><br><span class="line">   //é€šè¿‡java -XX:+PrintFlagsInitial | grep UseCompressedClassPointers</span><br><span class="line">   //å‘ç°bool UseCompressedClassPointers= falseï¼Œæ˜¯æ²¡æœ‰å¯ç”¨çš„</span><br><span class="line">   CompressedClassSpaceSize = 1073741824 (1024.0MB)</span><br><span class="line">   //å¯¹åº”å¯åŠ¨å‚æ•°-XX:MaxMetaspaceSizeå¯¹åº”å…ƒç©ºé—´æœ€å¤§å¤§å°</span><br><span class="line">   MaxMetaspaceSize         = 17592186044415 MB</span><br><span class="line">   //å½“ä½¿ç”¨G1æ”¶é›†å™¨æ—¶ï¼Œè®¾ç½®javaå †è¢«åˆ†å‰²çš„å¤§å°ã€‚è¿™ä¸ªå¤§å°èŒƒå›´åœ¨1Måˆ°32Mä¹‹é—´ã€‚</span><br><span class="line">   //å¯èƒ½æˆ‘è¿™ä¸ªJVMæ²¡æœ‰å¯ç”¨G1æ”¶é›†å™¨ï¼Œæ‰€ä»¥ä¸º0</span><br><span class="line">   G1HeapRegionSize         = 0 (0.0MB)</span><br><span class="line"></span><br><span class="line">//å †å†…å­˜ä½¿ç”¨æƒ…å†µ</span><br><span class="line">Heap Usage:</span><br><span class="line">//æ–°çš„å¤åˆ¶ç®—æ³•ï¼Œä¸€ä¸ªä¼Šç”¸åŒº+SurvivoråŒº</span><br><span class="line">New Generation (Eden + 1 Survivor Space):</span><br><span class="line">   capacity = 59506688 (56.75MB)</span><br><span class="line">   used     = 17941224 (17.110084533691406MB)</span><br><span class="line">   free     = 41565464 (39.639915466308594MB)</span><br><span class="line">   30.14992869372935% used</span><br><span class="line">//EdenåŒºå†…å­˜åˆ†å¸ƒ</span><br><span class="line">Eden Space:</span><br><span class="line">   capacity = 52953088 (50.5MB)</span><br><span class="line">   used     = 17935840 (17.104949951171875MB)</span><br><span class="line">   free     = 35017248 (33.395050048828125MB)</span><br><span class="line">   33.871188022122524% used</span><br><span class="line">//å…¶ä¸­ä¸€ä¸ªSurvivoråŒºçš„å†…å­˜åˆ†å¸ƒ</span><br><span class="line">From Space:</span><br><span class="line">   capacity = 6553600 (6.25MB)</span><br><span class="line">   used     = 5384 (0.00513458251953125MB)</span><br><span class="line">   free     = 6548216 (6.244865417480469MB)</span><br><span class="line">   0.0821533203125% used</span><br><span class="line">//å¦ä¸€ä¸ªSurvivoråŒºçš„å†…å­˜åˆ†å¸ƒ</span><br><span class="line">To Space:</span><br><span class="line">   capacity = 6553600 (6.25MB)</span><br><span class="line">   used     = 0 (0.0MB)</span><br><span class="line">   free     = 6553600 (6.25MB)</span><br><span class="line">   0.0% used</span><br><span class="line">//â€˜å½“å‰â€™è€å¹´ä»£å†…å­˜åˆ†å¸ƒ</span><br><span class="line">tenured generation:</span><br><span class="line">   capacity = 131899392 (125.7890625MB)</span><br><span class="line">   used     = 94610832 (90.22792053222656MB)</span><br><span class="line">   free     = 37288560 (35.56114196777344MB)</span><br><span class="line">   71.7295436812931% used</span><br><span class="line"></span><br><span class="line">27405 interned Strings occupying 3101144 bytes.</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="jhat"><a href="#jhat" class="headerlink" title="jhat"></a><strong>jhat</strong></h2><p>jhat(JVM Heap Analysis Tool)å‘½ä»¤æ˜¯ä¸jmapæ­é…ä½¿ç”¨ï¼Œç”¨æ¥åˆ†æjmapç”Ÿæˆçš„dumpï¼Œjhatå†…ç½®äº†ä¸€ä¸ªå¾®å‹çš„HTTP/HTMLæœåŠ¡å™¨ï¼Œç”Ÿæˆdumpçš„åˆ†æç»“æœåï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ã€‚åœ¨æ­¤è¦æ³¨æ„ï¼Œä¸€èˆ¬ä¸ä¼šç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šè¿›è¡Œåˆ†æï¼Œå› ä¸ºjhatæ˜¯ä¸€ä¸ªè€—æ—¶å¹¶ä¸”è€—è´¹ç¡¬ä»¶èµ„æºçš„è¿‡ç¨‹ï¼Œä¸€èˆ¬æŠŠæœåŠ¡å™¨ç”Ÿæˆçš„dumpæ–‡ä»¶å¤åˆ¶åˆ°æœ¬åœ°æˆ–å…¶ä»–æœºå™¨ä¸Šè¿›è¡Œåˆ†æã€‚</p>
<p>å› ä¸ºå¸¸ç”¨åˆ†ææ–¹æ³•æ˜¯ç”¨å„å¹³å°é€šç”¨çš„MATè¿›è¡Œåˆ†æï¼Œå°±ä¸å…·ä½“åœ¨è¿œç¨‹æœåŠ¡å™¨æ“ä½œå±•ç¤ºæ•ˆæœäº†ã€‚</p>
<hr>
<h2 id="jstack"><a href="#jstack" class="headerlink" title="jstack"></a><strong>jstack</strong></h2><p>jstackç”¨äºç”Ÿæˆjavaè™šæ‹Ÿæœºå½“å‰æ—¶åˆ»çš„çº¿ç¨‹å¿«ç…§ã€‚<br>çº¿ç¨‹å¿«ç…§æ˜¯å½“å‰javaè™šæ‹Ÿæœºå†…æ¯ä¸€æ¡çº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„æ–¹æ³•å †æ ˆçš„é›†åˆï¼Œç”Ÿæˆçº¿ç¨‹å¿«ç…§çš„ä¸»è¦ç›®çš„æ˜¯å®šä½çº¿ç¨‹å‡ºç°é•¿æ—¶é—´åœé¡¿çš„åŸå› ï¼Œå¦‚çº¿ç¨‹é—´æ­»é”ã€æ­»å¾ªç¯ã€è¯·æ±‚å¤–éƒ¨èµ„æºå¯¼è‡´çš„é•¿æ—¶é—´ç­‰å¾…ç­‰ã€‚<br>çº¿ç¨‹å‡ºç°åœé¡¿çš„æ—¶å€™é€šè¿‡jstackæ¥æŸ¥çœ‹å„ä¸ªçº¿ç¨‹çš„è°ƒç”¨å †æ ˆï¼Œå°±å¯ä»¥çŸ¥é“æ²¡æœ‰å“åº”çš„çº¿ç¨‹åˆ°åº•åœ¨åå°åšä»€ä¹ˆäº‹æƒ…ï¼Œæˆ–è€…ç­‰å¾…ä»€ä¹ˆèµ„æºã€‚ å¦‚æœjavaç¨‹åºå´©æºƒç”Ÿæˆcoreæ–‡ä»¶ï¼Œjstackå·¥å…·å¯ä»¥ç”¨æ¥è·å¾—coreæ–‡ä»¶çš„java stackå’Œnative stackçš„ä¿¡æ¯ï¼Œä»è€Œå¯ä»¥è½»æ¾åœ°çŸ¥é“javaç¨‹åºæ˜¯å¦‚ä½•å´©æºƒå’Œåœ¨ç¨‹åºä½•å¤„å‘ç”Ÿé—®é¢˜ã€‚å¦å¤–ï¼Œjstackå·¥å…·è¿˜å¯ä»¥é™„å±åˆ°æ­£åœ¨è¿è¡Œçš„javaç¨‹åºä¸­ï¼Œçœ‹åˆ°å½“æ—¶è¿è¡Œçš„javaç¨‹åºçš„java stackå’Œnative stackçš„ä¿¡æ¯, å¦‚æœç°åœ¨è¿è¡Œçš„javaç¨‹åºå‘ˆç°hungçš„çŠ¶æ€ï¼Œjstackæ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p>
<p><strong>å‘½ä»¤æ ¼å¼</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jstack [option] LVMID</span><br></pre></td></tr></table></figure></p>
<p><strong>optionå‚æ•°</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-F : å½“æ­£å¸¸è¾“å‡ºè¯·æ±‚ä¸è¢«å“åº”æ—¶ï¼Œå¼ºåˆ¶è¾“å‡ºçº¿ç¨‹å †æ ˆ</span><br><span class="line">-l : é™¤å †æ ˆå¤–ï¼Œæ˜¾ç¤ºå…³äºé”çš„é™„åŠ ä¿¡æ¯</span><br><span class="line">-m : å¦‚æœè°ƒç”¨åˆ°æœ¬åœ°æ–¹æ³•çš„è¯ï¼Œå¯ä»¥æ˜¾ç¤ºC/C++çš„å †æ ˆ</span><br></pre></td></tr></table></figure></p>
<p><strong>ä¸¾ä¸ªä¾‹å­</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">jstack -l 25446 | more</span><br><span class="line">2018-01-25 21:18:22</span><br><span class="line">Full thread dump Java HotSpot(TM) 64-Bit Server VM (25.121-b13 mixed mode):</span><br><span class="line"></span><br><span class="line">&quot;main-EventThread&quot; #174 daemon prio=5 os_prio=0 tid=0x00007feb692b7000 nid=0x6502 waiting on condition [0x00007feb32bb1000]</span><br><span class="line">    //ç­‰å¾…</span><br><span class="line">   java.lang.Thread.State: WAITING (parking)</span><br><span class="line">	at sun.misc.Unsafe.park(Native Method)</span><br><span class="line">	- parking to wait for  &lt;0x00000000f0a00860&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)</span><br><span class="line">	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)</span><br><span class="line">	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)</span><br><span class="line">	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)</span><br><span class="line">	at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:501)</span><br><span class="line"></span><br><span class="line">   Locked ownable synchronizers:</span><br><span class="line">	- None</span><br><span class="line"></span><br><span class="line">&quot;main-SendThread(115.159.192.69:2181)&quot; #173 daemon prio=5 os_prio=0 tid=0x00007feb694bd800 nid=0x6501 runnable [0x00007feb363ce000]</span><br><span class="line">    //è¿è¡Œ</span><br><span class="line">   java.lang.Thread.State: RUNNABLE</span><br><span class="line">	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)</span><br><span class="line">	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)</span><br><span class="line">	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)</span><br><span class="line">	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)</span><br><span class="line">	- locked &lt;0x00000000f09ef268&gt; (a sun.nio.ch.Util$3)</span><br><span class="line">	- locked &lt;0x00000000f09ef258&gt; (a java.util.Collections$UnmodifiableSet)</span><br><span class="line">	- locked &lt;0x00000000f09ef140&gt; (a sun.nio.ch.EPollSelectorImpl)</span><br><span class="line">	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)</span><br><span class="line">	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:349)</span><br><span class="line">	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1141)</span><br><span class="line"></span><br><span class="line">   Locked ownable synchronizers:</span><br><span class="line">	- None</span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="jinfo"><a href="#jinfo" class="headerlink" title="jinfo"></a><strong>jinfo</strong></h2><p>jinfo(JVM Configuration info)è¿™ä¸ªå‘½ä»¤ä½œç”¨æ˜¯å®æ—¶æŸ¥çœ‹å’Œè°ƒæ•´è™šæ‹Ÿæœºè¿è¡Œå‚æ•°ã€‚<br>ä¹‹å‰çš„jps -vå£ä»¤åªèƒ½æŸ¥çœ‹åˆ°æ˜¾ç¤ºæŒ‡å®šçš„å‚æ•°ï¼Œå¦‚æœæƒ³è¦æŸ¥çœ‹æœªè¢«æ˜¾ç¤ºæŒ‡å®šçš„å‚æ•°çš„å€¼å°±è¦ä½¿ç”¨jinfoå£ä»¤</p>
<p>ä¸€èˆ¬æˆ‘å¸¸ç”¨å®ƒæ¥çœ‹JVMå¯åŠ¨æ—¶çš„å‚æ•°</p>
<p><strong>å‘½ä»¤æ ¼å¼</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jinfo [option] [args] LVMID</span><br></pre></td></tr></table></figure></p>
<p><strong>optinå‚æ•°</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-flag     : è¾“å‡ºæŒ‡å®šargså‚æ•°çš„å€¼</span><br><span class="line">-flags    : ä¸éœ€è¦argså‚æ•°ï¼Œè¾“å‡ºæ‰€æœ‰JVMå‚æ•°çš„å€¼</span><br><span class="line">-sysprops : è¾“å‡ºç³»ç»Ÿå±æ€§ï¼Œç­‰åŒäºSystem.getProperties()</span><br></pre></td></tr></table></figure></p>
<p><strong>ä¸¾ä¸ªğŸŒ°</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_247_254_centos ~]# jinfo -flags 25446</span><br><span class="line">Attaching to process ID 25446, please wait...</span><br><span class="line">Debugger attached successfully.</span><br><span class="line">Server compiler detected.</span><br><span class="line">JVM version is 25.121-b13</span><br><span class="line">Non-default VM flags: -XX:CICompilerCount=2 -XX:InitialHeapSize=16777216 -XX:MaxHeapSize=262144000 -XX:MaxNewSize=87359488 -XX:MinHeapDeltaBytes=196608 -XX:NewSize=5570560 -XX:OldSize=11206656 -XX:+UseCompressedClassPointers -XX:+UseCompressedOops</span><br><span class="line">Command line:  -Djava.util.logging.config.file=/usr/local/tomcat/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Dcatalina.base=/usr/local/tomcat -Dcatalina.home=/usr/local/tomcat -Djava.io.tmpdir=/usr/local/tomcat/temp</span><br></pre></td></tr></table></figure></p>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œjinfoæ‰“å°å‡ºæ¥çš„å‚æ•°ï¼Œä¸‹ä¸€ç¯‡åŸæœ¬æƒ³å†™MATçš„ä½¿ç”¨ï¼Œä½†æ˜¯è‡ªå·±æ‰‹åŠ¨åˆ¶é€ è¿‡å¼‚å¸¸ï¼Œå¼‚å¸¸ä¿¡æ¯é›†ä¸­åœ¨Java Objectsï¼Œåªè¦è”æƒ³åˆ°è·Ÿä¸Šä¸€æ¬¡æ”¹åŠ¨è¿‡çš„ä»£ç ï¼Œå°±èƒ½å‘ç°å¤§å¯¹è±¡å¯èƒ½å‡ºç°çš„åœ°æ–¹ï¼Œæ‰€ä»¥å…·ä½“åˆ†æçš„è¯ï¼Œç­‰ä¹‹åæ‹¿åˆ°æ¯”è¾ƒå¤æ‚çš„dumpæ–‡ä»¶å†å…·ä½“å­¦ä¹ ã€‚</p>
<hr>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p>1ã€<a href="https://www.cnblogs.com/ityouknow/p/5714703.html" target="_blank" rel="noopener">ã€Šjvmç³»åˆ—(å››):jvmè°ƒä¼˜-å‘½ä»¤å¤§å…¨ï¼ˆjps jstat jmap jhat jstack jinfoï¼‰ã€‹</a></p>
<p>2ã€<a href="https://www.cnblogs.com/paddix/p/5309550.html" target="_blank" rel="noopener">Java8å†…å­˜æ¨¡å‹â€”æ°¸ä¹…ä»£(PermGen)å’Œå…ƒç©ºé—´(Metaspace)</a></p>
<p>3ã€å‘¨å¿—æ˜çš„ã€Šæ·±å…¥ç†è§£JVMã€‹</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Java/" rel="tag"># Java</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/01/30/java/JVMå­¦ä¹ ï¼ˆäºŒï¼‰åƒåœ¾æ”¶é›†å™¨/" rel="next" title="JVMå­¦ä¹ ï¼ˆäºŒï¼‰åƒåœ¾æ”¶é›†å™¨">
                <i class="fa fa-chevron-left"></i> JVMå­¦ä¹ ï¼ˆäºŒï¼‰åƒåœ¾æ”¶é›†å™¨
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/03/04/java/Javaå¤šçº¿ç¨‹ThreadPoolExecutoråˆæ¢/" rel="prev" title="Javaå¤šçº¿ç¨‹ThreadPoolExecutoråˆæ¢">
                Javaå¤šçº¿ç¨‹ThreadPoolExecutoråˆæ¢ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zNjEzNi8xMjY3MQ=="></div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="http://img.sevenyuan.cn/panda.jpg" alt="JingQ">
          <p class="site-author-name" itemprop="name">JingQ</p>
           
              <p class="site-description motion-element" itemprop="description">åŠªåŠ›å­¦ä¹ </p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">95</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">28</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">22</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Vip-Augus" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.weibo.com/yjq41596" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                    
                      Weibo
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.douban.com/people/YeJingQi" target="_blank" title="Douban">
                  
                    <i class="fa fa-fw fa-anchor"></i>
                  
                    
                      Douban
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto://JingQBoom@gmail.com" target="_blank" title="E-Mail">
                  
                    <i class="fa fa-fw fa-envelope"></i>
                  
                    
                      E-Mail
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#JVMå¸¸ç”¨å‘½ä»¤"><span class="nav-number">1.</span> <span class="nav-text">JVMå¸¸ç”¨å‘½ä»¤</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#jps"><span class="nav-number">1.1.</span> <span class="nav-text">jps</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jstat"><span class="nav-number">2.</span> <span class="nav-text">jstat</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jmap"><span class="nav-number">3.</span> <span class="nav-text">jmap</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jhat"><span class="nav-number">4.</span> <span class="nav-text">jhat</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jstack"><span class="nav-number">5.</span> <span class="nav-text">jstack</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jinfo"><span class="nav-number">6.</span> <span class="nav-text">jinfo</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å‚è€ƒèµ„æ–™"><span class="nav-number">7.</span> <span class="nav-text">å‚è€ƒèµ„æ–™</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-JingQ"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JingQ</span>
</div>

<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  æœ¬ç«™è®¿å®¢æ•°:<span id="busuanzi_value_site_uv"></span>
</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<a href="http://www.beian.miit.gov.cn">æµ™ICPå¤‡17002280å·-1</a> 

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i> è®¿é—®äººæ•°
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i> æ€»è®¿é—®é‡
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      æ¬¡
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  






  





  

  

  

  

  

  

  
</body>
</html>
